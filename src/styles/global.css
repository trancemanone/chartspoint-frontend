/**
 * ═══════════════════════════════════════════════════════════════════════════
 * CHARTSPOINT DESIGN SYSTEM - Global Styles
 * ═══════════════════════════════════════════════════════════════════════════
 *
 * A comprehensive stylesheet for institutional-grade Arabic technical analysis.
 * Crafted for analytical depth, trust, and premium educational experience.
 *
 * Brand Vision:
 * "Towards a deeper understanding of how prices move, why signals fail,
 * and how traders manage risk before thinking about profits."
 *
 * Table of Contents:
 * 1. Imports
 * 2. CSS Custom Properties (Design Tokens)
 * 3. Base Layer (Reset & Defaults)
 * 4. Components Layer (UI Components)
 * 5. Utilities Layer (Helper Classes)
 *
 * ═══════════════════════════════════════════════════════════════════════════
 */

/* ═══════════════════════════════════════════════════════════════════════════
   1. IMPORTS
   ═══════════════════════════════════════════════════════════════════════════ */

@import './fonts.css';
@import './rtl.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════════════════════════════════
   2. CSS CUSTOM PROPERTIES (Design Tokens)
   ═══════════════════════════════════════════════════════════════════════════ */

:root {
  /* ─────────────────────────────────────────────────────────────────────────
     Color Tokens
     ───────────────────────────────────────────────────────────────────────── */

  /* Navy Scale - Institutional Authority */
  --color-navy-50: #F0F4F8;
  --color-navy-100: #D9E2EC;
  --color-navy-200: #BCCCDC;
  --color-navy-300: #9FB3C8;
  --color-navy-400: #829AB1;
  --color-navy-500: #627D98;
  --color-navy-600: #486581;
  --color-navy-700: #334E68;
  --color-navy-800: #243B53;
  --color-navy-900: #102A43;
  --color-navy-950: #0A1929;

  /* Gold Scale - Premium & Exclusivity (PRIMARY ACCENT) */
  --color-gold-50: #FDF8ED;
  --color-gold-100: #FAF0D8;
  --color-gold-200: #F5E2B5;
  --color-gold-300: #e8bc5a;
  --color-gold-400: #deb049;
  --color-gold-500: #d5a035;
  --color-gold-600: #b8892a;
  --color-gold-700: #9a7223;
  --color-gold-800: #7c5c1c;
  --color-gold-900: #5e4515;

  /* Brand Gold - CHARTSPOINT Identity */
  --color-brand-50: #FDF8ED;
  --color-brand-100: #FAF0D8;
  --color-brand-200: #F5E2B5;
  --color-brand-300: #e8bc5a;
  --color-brand-400: #deb049;
  --color-brand-500: #d5a035;
  --color-brand-600: #b8892a;
  --color-brand-700: #9a7223;
  --color-brand-800: #7c5c1c;
  --color-brand-900: #5e4515;

  /* ─────────────────────────────────────────────────────────────────────────
     Pillar Colors - CHARTSPOINT Content Categories
     ───────────────────────────────────────────────────────────────────────── */

  /* Basics Pillar - Blue (Education/Learning) */
  --color-pillar-basics: #3B82F6;
  --color-pillar-basics-light: #EFF6FF;
  --color-pillar-basics-dark: #1D4ED8;

  /* Indicators Pillar - Orange (Tools/Technical) */
  --color-pillar-indicators: #F97316;
  --color-pillar-indicators-light: #FFF7ED;
  --color-pillar-indicators-dark: #C2410C;

  /* Tools Pillar - Green (Practical/Utility) */
  --color-pillar-tools: #10B981;
  --color-pillar-tools-light: #ECFDF5;
  --color-pillar-tools-dark: #047857;

  /* Tactics Pillar - Purple (Strategy/Advanced) */
  --color-pillar-tactics: #8B5CF6;
  --color-pillar-tactics-light: #F5F3FF;
  --color-pillar-tactics-dark: #6D28D9;

  /* Semantic Colors */
  --color-text-primary: #0F172A;
  --color-text-secondary: #334155;  /* Darkened for better contrast - was #475569 */
  --color-text-muted: #475569;      /* Darkened for better contrast - was #64748B */
  --color-text-inverse: #FFFFFF;

  /* ─────────────────────────────────────────────────────────────────────────
     ACCESSIBILITY TOKENS - Optimized for Ages 40-70
     ───────────────────────────────────────────────────────────────────────── */

  /* Minimum Touch Target Size (WCAG 2.5.5 Level AAA = 44px, we use 48px) */
  --touch-target-min: 48px;
  --touch-target-comfortable: 56px;
  --touch-target-large: 64px;

  /* Focus Ring - High Visibility for Older Users (Updated to gold) */
  --focus-ring-width: 3px;
  --focus-ring-offset: 3px;
  --focus-ring-color: rgba(213, 160, 53, 0.6);
  --focus-ring-color-error: rgba(220, 38, 38, 0.6);

  /* Minimum Font Sizes - Optimized for Older Readers */
  --font-size-min-body: 1.125rem;     /* 18px minimum for body text */
  --font-size-min-body-lg: 1.25rem;   /* 20px for comfortable reading */
  --font-size-min-caption: 0.9375rem; /* 15px minimum for small text */
  --font-size-min-label: 1rem;        /* 16px minimum for form labels */

  /* Line Spacing for Arabic - Enhanced for Readability */
  --line-height-body-comfortable: 1.8;
  --line-height-body-relaxed: 2;

  /* Letter Spacing for Arabic Text */
  --letter-spacing-arabic: 0.01em;

  /* Contrast Ratios - These colors meet WCAG AAA (7:1) */
  --color-text-high-contrast: #0A0A0A;
  --color-link-high-contrast: #9a7223;  /* Darker gold for AAA compliance */

  --color-bg-page: #F6F8FA;
  --color-bg-card: #FFFFFF;
  --color-bg-elevated: #FFFFFF;
  --color-bg-subtle: #F1F5F9;

  --color-border-default: #E2E8F0;
  --color-border-subtle: #F1F5F9;
  --color-border-strong: #CBD5E1;

  /* ─────────────────────────────────────────────────────────────────────────
     Pale Gray Tokens - Subtle UI Elements
     Used for: dividers, secondary borders, fading lines, soft backgrounds
     Based on existing slate scale for consistency
     ───────────────────────────────────────────────────────────────────────── */
  --color-pale-gray: #E2E8F0;         /* Primary pale gray (slate-200) */
  --color-pale-gray-light: #F1F5F9;   /* Lighter variant (slate-100) - TOC, soft cards */
  --color-pale-gray-medium: #CBD5E1;  /* Medium variant (slate-300) - stronger dividers */

  /* ─────────────────────────────────────────────────────────────────────────
     Typography Tokens
     ───────────────────────────────────────────────────────────────────────── */

  --font-heading: 'Noto Kufi Arabic', system-ui, sans-serif;
  --font-body: 'Tajawal', system-ui, sans-serif;
  --font-mono: 'IBM Plex Mono', Consolas, monospace;

  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  --font-size-5xl: 3rem;

  --line-height-tight: 1.25;
  --line-height-normal: 1.5;
  --line-height-arabic: 1.7;
  --line-height-relaxed: 1.85;

  /* ─────────────────────────────────────────────────────────────────────────
     Spacing Tokens
     ───────────────────────────────────────────────────────────────────────── */

  --spacing-0: 0;
  --spacing-1: 0.25rem;
  --spacing-2: 0.5rem;
  --spacing-3: 0.75rem;
  --spacing-4: 1rem;
  --spacing-5: 1.25rem;
  --spacing-6: 1.5rem;
  --spacing-8: 2rem;
  --spacing-10: 2.5rem;
  --spacing-12: 3rem;
  --spacing-16: 4rem;
  --spacing-20: 5rem;
  --spacing-24: 6rem;

  --spacing-touch: 48px;
  --spacing-nav-height: 80px;

  /* ─────────────────────────────────────────────────────────────────────────
     Border Radius Tokens
     ───────────────────────────────────────────────────────────────────────── */

  --radius-sm: 0.25rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.25rem;
  --radius-full: 9999px;
  --radius-card: 1rem;
  --radius-button: 0.625rem;
  --radius-input: 0.5rem;

  /* ─────────────────────────────────────────────────────────────────────────
     Shadow Tokens
     ───────────────────────────────────────────────────────────────────────── */

  --shadow-xs: 0 1px 2px 0 rgba(15, 23, 42, 0.04);
  --shadow-sm: 0 1px 3px 0 rgba(15, 23, 42, 0.06), 0 1px 2px -1px rgba(15, 23, 42, 0.06);
  --shadow-md: 0 4px 6px -1px rgba(15, 23, 42, 0.07), 0 2px 4px -2px rgba(15, 23, 42, 0.07);
  --shadow-lg: 0 10px 15px -3px rgba(15, 23, 42, 0.08), 0 4px 6px -4px rgba(15, 23, 42, 0.08);
  --shadow-xl: 0 20px 25px -5px rgba(15, 23, 42, 0.08), 0 8px 10px -6px rgba(15, 23, 42, 0.08);
  --shadow-2xl: 0 25px 50px -12px rgba(15, 23, 42, 0.15);

  --shadow-card: 0 2px 8px rgba(15, 23, 42, 0.04), 0 4px 16px rgba(15, 23, 42, 0.04);
  --shadow-card-hover: 0 8px 24px rgba(15, 23, 42, 0.08), 0 16px 48px rgba(15, 23, 42, 0.06);
  --shadow-dropdown: 0 10px 40px rgba(15, 23, 42, 0.12);
  --shadow-header: 0 1px 3px rgba(15, 23, 42, 0.04), 0 4px 24px rgba(15, 23, 42, 0.04);

  --shadow-brand: 0 4px 14px rgba(213, 160, 53, 0.2);
  --shadow-gold: 0 4px 14px rgba(213, 160, 53, 0.2);

  /* ─────────────────────────────────────────────────────────────────────────
     Transition Tokens
     ───────────────────────────────────────────────────────────────────────── */

  --transition-fast: 150ms ease;
  --transition-base: 200ms ease;
  --transition-slow: 300ms ease;
  --transition-smooth: 300ms cubic-bezier(0.45, 0, 0.15, 1);

  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);

  /* ─────────────────────────────────────────────────────────────────────────
     Z-Index Scale
     ───────────────────────────────────────────────────────────────────────── */

  --z-dropdown: 100;
  --z-sticky: 200;
  --z-header: 300;
  --z-overlay: 400;
  --z-modal: 500;
  --z-popover: 600;
  --z-tooltip: 700;
  --z-toast: 800;
}

/* ═══════════════════════════════════════════════════════════════════════════
   3. BASE LAYER
   ═══════════════════════════════════════════════════════════════════════════ */

@layer base {
  /* ─────────────────────────────────────────────────────────────────────────
     Document Reset & Defaults
     ───────────────────────────────────────────────────────────────────────── */

  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  html {
    font-family: var(--font-body);
    direction: rtl;
    scroll-behavior: smooth;
    scroll-padding-top: var(--spacing-nav-height);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  body {
    @apply bg-surface-page text-slate-900 antialiased;
    font-size: var(--font-size-min-body);  /* 18px minimum - critical for 40-70 age group */
    line-height: var(--line-height-body-comfortable);  /* 1.8 for better Arabic readability */
    min-height: 100vh;
    overflow-x: hidden;
    letter-spacing: var(--letter-spacing-arabic);
    /* Prevent text size adjustment on mobile orientation change */
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  @screen md {
    body {
      font-size: var(--font-size-min-body-lg);  /* 20px on larger screens */
      line-height: var(--line-height-body-relaxed);  /* 2.0 for comfortable reading */
    }
  }

  /* Ensure minimum readable text size - critical for older users */
  small,
  .text-sm,
  .text-xs,
  caption,
  figcaption {
    font-size: var(--font-size-min-caption) !important;  /* Never smaller than 15px */
    line-height: 1.6;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     Typography Defaults
     ───────────────────────────────────────────────────────────────────────── */

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading);
    @apply text-navy-900 font-bold;
    text-wrap: balance;
  }

  h1 {
    @apply text-h1-mobile md:text-h1-desktop;
    letter-spacing: -0.02em;
    line-height: 1.4;  /* Increased for Arabic text breathing room */
  }

  h2 {
    @apply text-h2-mobile md:text-h2-desktop;
    letter-spacing: -0.01em;
  }

  h3 {
    @apply text-h3-mobile md:text-h3-desktop;
  }

  h4 {
    @apply text-h4 font-semibold;
  }

  h5 {
    @apply text-h5 font-semibold;
  }

  h6 {
    @apply text-h6 font-semibold;
  }

  /* Hero title styling - generous line-height for Arabic multi-line titles */
  .hero-title {
    line-height: 1.45;  /* More breathing room for Arabic script */
  }

  @media (min-width: 768px) {
    .hero-title {
      line-height: 1.35;  /* Slightly tighter on larger screens */
    }
  }

  p {
    @apply text-slate-700 leading-arabic;
    text-wrap: pretty;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     Link Defaults
     ───────────────────────────────────────────────────────────────────────── */

  a {
    @apply text-brand-600 transition-colors duration-200;
  }

  a:hover {
    @apply text-brand-700;
  }

  a:focus-visible {
    @apply outline-none ring-2 ring-brand-500 ring-offset-2 rounded;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     Focus States - Enhanced Accessibility for Older Users
     ───────────────────────────────────────────────────────────────────────── */

  /*
   * CRITICAL: High-visibility focus indicators for users 40-70
   * - 3px ring width (increased from 2px)
   * - 3px offset for better visibility
   * - Semi-transparent brand color for clear but not jarring indication
   */
  *:focus-visible {
    @apply outline-none;
    box-shadow:
      0 0 0 var(--focus-ring-offset) var(--color-bg-page),
      0 0 0 calc(var(--focus-ring-offset) + var(--focus-ring-width)) var(--focus-ring-color);
  }

  /* Enhanced focus for interactive elements - even more prominent */
  a:focus-visible,
  button:focus-visible,
  [role="button"]:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    @apply outline-none;
    box-shadow:
      0 0 0 var(--focus-ring-offset) #FFFFFF,
      0 0 0 calc(var(--focus-ring-offset) + var(--focus-ring-width)) var(--color-brand-600);
  }

  /* Focus indicator that works on dark backgrounds */
  .dark-bg *:focus-visible,
  .section-navy *:focus-visible,
  .hero-navy *:focus-visible {
    box-shadow:
      0 0 0 var(--focus-ring-offset) transparent,
      0 0 0 calc(var(--focus-ring-offset) + var(--focus-ring-width)) #FFFFFF;
  }

  /* Skip to content link - Essential for keyboard users */
  .skip-to-content {
    @apply sr-only;
  }

  .skip-to-content:focus {
    @apply not-sr-only fixed top-4 right-4 z-max px-8 py-4 bg-navy-900 text-white rounded-xl shadow-2xl;
    font-size: var(--font-size-min-body);
    font-weight: 600;
    text-decoration: underline;
    text-underline-offset: 4px;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     Selection Styling
     ───────────────────────────────────────────────────────────────────────── */

  ::selection {
    @apply bg-brand-500 text-white;
  }

  ::-moz-selection {
    @apply bg-brand-500 text-white;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     Scrollbar Styling (WebKit)
     ───────────────────────────────────────────────────────────────────────── */

  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-slate-100;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-slate-300 rounded-full;
    border: 2px solid transparent;
    background-clip: padding-box;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-slate-400;
  }

  /* Firefox Scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: #CBD5E1 #F1F5F9;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     Form Element Defaults
     ───────────────────────────────────────────────────────────────────────── */

  input,
  textarea,
  select {
    font-family: inherit;
    font-size: inherit;
    line-height: inherit;
  }

  /* Remove default number input spinners */
  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type="number"] {
    -moz-appearance: textfield;
  }

  /* Remove search input clear button */
  input[type="search"]::-webkit-search-cancel-button {
    -webkit-appearance: none;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     Image Defaults
     ───────────────────────────────────────────────────────────────────────── */

  img,
  picture,
  video,
  canvas,
  svg {
    display: block;
    max-width: 100%;
  }

  img {
    height: auto;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   4. COMPONENTS LAYER
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {

  /* ═══════════════════════════════════════════════════════════════════════════
     PROSE CONTENT LINKS
     Unified internal link styling with golden underline for Arabic text
     Premium spacing optimized for Arabic descenders (ی، ق، ن، ب، ت، ث، ج، ح، خ)
     text-underline-offset: 10px ensures clear separation from all Arabic descenders
     ═══════════════════════════════════════════════════════════════════════════ */

  .prose a:not(.toc-link):not(.breadcrumb-link):not(.btn) {
    color: var(--color-text-primary, #0F172A);
    text-decoration: underline;
    text-decoration-color: #d5a035;
    text-underline-offset: 10px; /* Large offset to clear Arabic descenders completely */
    text-decoration-thickness: 2px;
    text-decoration-skip-ink: auto;
    padding-bottom: 0.15em; /* Additional breathing room for premium look */
    transition: color 0.2s ease, text-decoration-color 0.2s ease, text-underline-offset 0.2s ease;
  }

  .prose a:not(.toc-link):not(.breadcrumb-link):not(.btn):hover {
    color: #d5a035;
    text-decoration-color: var(--color-primary, #081C2F);
    text-underline-offset: 12px; /* Subtle lift on hover for interactive feedback */
  }

  .prose a:not(.toc-link):not(.breadcrumb-link):not(.btn):focus {
    outline: 2px solid #d5a035;
    outline-offset: 4px; /* Increased for better visibility */
    border-radius: 2px;
  }

  /* Ensure external links can be styled differently if needed */
  .prose a[target="_blank"]::after {
    content: '';
    /* External link indicator can be added here */
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     PROSE HEADING DECORATIONS - H1, H2 AND H3
     Premium institutional styling for article headings
     RTL-optimized with gold accent decorations
     ═══════════════════════════════════════════════════════════════════════════ */

  /* ─────────────────────────────────────────────────────────────────────────
     H1 HEADINGS - Article Title with Bottom Margin
     Ensures proper spacing between article title and first paragraph
     ───────────────────────────────────────────────────────────────────────── */

  .prose h1 {
    font-family: var(--font-heading);
    font-weight: 800;
    color: var(--color-navy-900, #102A43);
    margin-top: 0;
    margin-bottom: 1.75rem; /* Adequate spacing below H1 before first paragraph */
    line-height: 1.35;
    letter-spacing: -0.02em;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     H2 HEADINGS - First Word Underline with Fading Extension Line

     Visual effect (RTL - text flows right to left):
     أساسيات الاستثمار في الأسهم
                         ════════ ────────────────→ (fades to transparent)
                         [thick gold] [thin gray fading]

     The thick gold line appears under the first word (right side in RTL).
     A thin gray line extends from there and fades towards the left (end).
     ───────────────────────────────────────────────────────────────────────── */

  .prose h2 {
    position: relative;
    font-family: var(--font-heading);
    font-weight: 700;
    color: var(--color-navy-900, #102A43);
    margin-top: 2.5rem;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    line-height: 1.3;
    letter-spacing: -0.01em;
    /* Remove any existing border from Tailwind prose */
    border-bottom: none !important;
  }

  /* Thin pale gray fading line - extends full width under the text */
  .prose h2::after {
    content: '';
    position: absolute;
    bottom: 0;
    right: 0;
    left: 0;
    height: 1px;
    background: linear-gradient(
      to left,
      var(--color-pale-gray-medium, #CBD5E1) 0%,
      var(--color-pale-gray, #E2E8F0) 30%,
      rgba(226, 232, 240, 0.4) 70%,
      rgba(226, 232, 240, 0) 100%
    );
    pointer-events: none;
  }

  /* Thick gold underline under first word area (right side in RTL) */
  .prose h2::before {
    content: '';
    position: absolute;
    bottom: -2px;
    right: 0;
    width: clamp(80px, 20%, 140px);
    height: 4px;
    background-color: #d5a035;
    border-radius: 2px;
    z-index: 1;
    pointer-events: none;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     H3 HEADINGS - Vertical Accent Line

     Visual effect (RTL):
                                           ║ عنوان فرعي
                         [gold vertical bar] [heading text]

     Thick vertical line at the start of the heading (right side in RTL)
     ───────────────────────────────────────────────────────────────────────── */

  .prose h3 {
    position: relative;
    font-family: var(--font-heading);
    font-weight: 700;
    color: var(--color-navy-800, #243B53);
    margin-top: 2rem;
    margin-bottom: 1rem;
    padding-right: 1rem;
    line-height: 1.35;
    /* Remove any existing border */
    border-bottom: none !important;
  }

  /* Vertical gold accent line before H3 (right side in RTL) */
  .prose h3::before {
    content: '';
    position: absolute;
    right: 0;
    top: 0.15em;
    width: 4px;
    height: 1.2em;
    background-color: #d5a035;
    border-radius: 2px;
    pointer-events: none;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     GLASSMORPHISM HEADER
     Premium navigation with frosted glass effect
     ═══════════════════════════════════════════════════════════════════════════ */

  .glass-header {
    @apply fixed top-0 left-0 right-0 z-header;
    background: rgba(255, 255, 255, 0.92);
    backdrop-filter: blur(16px) saturate(180%);
    -webkit-backdrop-filter: blur(16px) saturate(180%);
    border-bottom: 1px solid rgba(226, 232, 240, 0.8);
    box-shadow: var(--shadow-header);
    transition: all var(--transition-smooth);
  }

  .glass-header.scrolled {
    background: rgba(255, 255, 255, 0.98);
    box-shadow: 0 4px 30px rgba(15, 23, 42, 0.08);
  }

  /* Dark variant for hero sections */
  .glass-header-dark {
    @apply fixed top-0 left-0 right-0 z-header;
    background: rgba(16, 42, 67, 0.92);
    backdrop-filter: blur(16px) saturate(180%);
    -webkit-backdrop-filter: blur(16px) saturate(180%);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     MEGA MENU - Boxed Navigation Dropdown
     Sophisticated dropdown with refined edges
     ═══════════════════════════════════════════════════════════════════════════ */

  .mega-menu {
    @apply absolute top-full right-0 bg-white rounded-2xl border border-slate-200/80;
    min-width: 320px;
    box-shadow: var(--shadow-dropdown);
    opacity: 0;
    visibility: hidden;
    transform: translateY(8px);
    transition: all var(--transition-smooth);
    overflow: hidden;
  }

  .nav-item:hover .mega-menu,
  .mega-menu:focus-within {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }

  .mega-menu-header {
    @apply px-6 py-4 border-b border-slate-100;
    background: linear-gradient(180deg, #F8FAFC 0%, #FFFFFF 100%);
  }

  .mega-menu-content {
    @apply py-2;
  }

  .mega-menu-link {
    @apply flex items-center gap-3 px-6 py-3 text-slate-700 transition-all duration-200;
  }

  .mega-menu-link:hover {
    @apply bg-slate-50 text-navy-800;
    padding-right: 1.75rem;
  }

  .mega-menu-link::before {
    content: '';
    @apply w-1.5 h-1.5 rounded-full bg-slate-300 transition-colors duration-200;
  }

  .mega-menu-link:hover::before {
    @apply bg-brand-500;
  }

  .mega-menu-footer {
    @apply px-6 py-3 border-t border-slate-100 bg-slate-50/50;
  }

  /* Full-width mega menu variant */
  .mega-menu-full {
    @apply absolute top-full left-0 right-0 bg-white border-t border-slate-200;
    box-shadow: 0 20px 40px rgba(15, 23, 42, 0.1);
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     BUTTONS
     Premium button system with multiple variants
     ═══════════════════════════════════════════════════════════════════════════ */

  /*
   * Base button styles - Optimized for Ages 40-70
   * - Minimum 48px touch target (WCAG 2.5.5)
   * - 18px minimum font size for readability
   * - Clear visual feedback on interaction
   */
  .btn {
    @apply inline-flex items-center justify-center gap-3 font-semibold rounded-button transition-all duration-200;
    min-height: var(--touch-target-min);  /* 48px minimum */
    min-width: var(--touch-target-min);   /* Ensure clickable area */
    padding: 0.875rem 1.75rem;
    font-size: var(--font-size-min-body);  /* 18px minimum */
    line-height: 1.5;
    text-decoration: none;
    cursor: pointer;
    border: 2px solid transparent;
    /* Ensure touch target extends beyond visual boundaries if needed */
    position: relative;
  }

  /* Invisible touch target expansion for small buttons */
  .btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    min-width: var(--touch-target-min);
    min-height: var(--touch-target-min);
  }

  .btn:disabled {
    @apply opacity-60 cursor-not-allowed;  /* Increased opacity for better visibility */
  }

  /* Disabled state should have clear visual indication */
  .btn:disabled::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      45deg,
      transparent,
      transparent 2px,
      rgba(255, 255, 255, 0.1) 2px,
      rgba(255, 255, 255, 0.1) 4px
    );
    border-radius: inherit;
    pointer-events: none;
  }

  /* Primary Button - Brand Green */
  .btn-primary {
    @apply btn bg-brand-500 text-white border-brand-500;
    box-shadow: var(--shadow-brand);
  }

  .btn-primary:hover:not(:disabled) {
    @apply bg-brand-600 border-brand-600;
    box-shadow: 0 6px 20px rgba(213, 160, 53, 0.3);
    transform: translateY(-1px);
  }

  .btn-primary:active:not(:disabled) {
    @apply bg-brand-700 border-brand-700;
    transform: translateY(0);
  }

  /* Secondary Button - Outlined */
  .btn-secondary {
    @apply btn bg-white text-navy-800 border-navy-800;
    box-shadow: var(--shadow-sm);
  }

  .btn-secondary:hover:not(:disabled) {
    @apply bg-navy-50 border-navy-900;
    box-shadow: var(--shadow-md);
    transform: translateY(-1px);
  }

  .btn-secondary:active:not(:disabled) {
    @apply bg-navy-100;
    transform: translateY(0);
  }

  /* Ghost Button - Minimal */
  .btn-ghost {
    @apply btn bg-transparent text-navy-700;
  }

  .btn-ghost:hover:not(:disabled) {
    @apply bg-slate-100 text-navy-900;
  }

  .btn-ghost:active:not(:disabled) {
    @apply bg-slate-200;
  }

  /* Gold Button - Premium CTA */
  .btn-gold {
    @apply btn text-navy-900;
    background: linear-gradient(135deg, #e8bc5a 0%, #d5a035 100%);
    border-color: #d5a035;
    box-shadow: var(--shadow-gold);
  }

  .btn-gold:hover:not(:disabled) {
    background: linear-gradient(135deg, #d5a035 0%, #b8892a 100%);
    box-shadow: 0 6px 20px rgba(213, 160, 53, 0.35);
    transform: translateY(-1px);
  }

  /* Navy Button - Authority (Updated with dark navy) */
  .btn-navy {
    @apply btn text-white;
    background: linear-gradient(135deg, #1a3a5c 0%, #102941 100%);
    border-color: #1a3a5c;
    box-shadow: 0 4px 14px rgba(16, 41, 65, 0.25);
  }

  .btn-navy:hover:not(:disabled) {
    background: linear-gradient(135deg, #102941 0%, #0a1f33 100%);
    box-shadow: 0 6px 20px rgba(16, 41, 65, 0.35);
    transform: translateY(-1px);
  }

  /* Button Sizes - All maintain minimum touch targets for accessibility */
  .btn-sm {
    font-size: var(--font-size-min-caption);  /* 15px minimum even for small */
    min-height: var(--touch-target-min);  /* Still 48px for touch accessibility */
    padding: 0.625rem 1.25rem;
  }

  .btn-lg {
    font-size: 1.25rem;  /* 20px */
    min-height: var(--touch-target-comfortable);  /* 56px */
    padding: 1rem 2rem;
  }

  .btn-xl {
    font-size: 1.375rem;  /* 22px */
    min-height: var(--touch-target-large);  /* 64px */
    padding: 1.25rem 2.5rem;
  }

  /* Icon Button - Must maintain touch target */
  .btn-icon {
    @apply p-3;
    min-width: var(--touch-target-min);
    min-height: var(--touch-target-min);
  }

  /* Icon-only button should never be smaller than touch target */
  .btn-icon-sm {
    @apply p-2;
    min-width: var(--touch-target-min);  /* Changed from 40px to 48px */
    min-height: var(--touch-target-min);
  }

  /* Large icon button for primary actions */
  .btn-icon-lg {
    @apply p-4;
    min-width: var(--touch-target-comfortable);
    min-height: var(--touch-target-comfortable);
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     CARDS
     Premium card components with sophisticated shadows
     ═══════════════════════════════════════════════════════════════════════════ */

  /* Base Card */
  .card {
    @apply bg-white rounded-card border border-slate-200/60;
    box-shadow: var(--shadow-card);
    transition: all var(--transition-smooth);
  }

  .card:hover {
    box-shadow: var(--shadow-card-hover);
    border-color: rgba(226, 232, 240, 0.9);
  }

  /* Card with interaction */
  .card-interactive {
    @apply card cursor-pointer;
  }

  .card-interactive:hover {
    transform: translateY(-2px);
  }

  .card-interactive:active {
    transform: translateY(0);
  }

  /* Card Sections */
  .card-header {
    @apply px-6 py-4 border-b border-slate-100;
  }

  .card-body {
    @apply p-6;
  }

  .card-footer {
    @apply px-6 py-4 border-t border-slate-100 bg-slate-50/30;
  }

  /* Elevated Card - Higher prominence */
  .card-elevated {
    @apply card border-0;
    box-shadow: 0 8px 30px rgba(15, 23, 42, 0.08), 0 16px 60px rgba(15, 23, 42, 0.04);
  }

  .card-elevated:hover {
    box-shadow: 0 12px 40px rgba(15, 23, 42, 0.12), 0 24px 80px rgba(15, 23, 42, 0.06);
  }

  /* Pillar Cards - Color-coded by section */
  .pillar-card {
    @apply card;
    border-right-width: 4px;
    border-right-style: solid;
  }

  .pillar-card-learn {
    border-right-color: #d5a035;
  }

  .pillar-card-learn:hover {
    box-shadow: var(--shadow-card-hover), 0 0 0 1px rgba(59, 130, 246, 0.1);
  }

  .pillar-card-accounts {
    border-right-color: #d5a035;
  }

  .pillar-card-accounts:hover {
    box-shadow: var(--shadow-card-hover), 0 0 0 1px rgba(213, 160, 53, 0.15);
  }

  .pillar-card-trust {
    border-right-color: #d5a035;
  }

  .pillar-card-trust:hover {
    box-shadow: var(--shadow-card-hover), 0 0 0 1px rgba(124, 45, 60, 0.1);
  }

  /* Featured Card - Gold accent */
  .card-featured {
    @apply card relative overflow-hidden;
    border-color: #FCEAC4;
  }

  .card-featured::before {
    content: '';
    @apply absolute top-0 right-0 w-24 h-24;
    background: linear-gradient(135deg, rgba(213, 160, 53, 0.15) 0%, transparent 100%);
  }

  .card-featured::after {
    content: '';
    @apply absolute top-0 right-0 w-1 h-full;
    background: linear-gradient(180deg, #e8bc5a 0%, #d5a035 100%);
  }

  /* Glass Card */
  .card-glass {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.5);
    box-shadow: 0 8px 32px rgba(15, 23, 42, 0.08);
  }

  /* Pale Gray Card - Subtle soft background for secondary content */
  .card-pale {
    @apply rounded-card;
    background-color: var(--color-pale-gray-light);
    border: 1px solid var(--color-pale-gray);
    transition: all var(--transition-smooth);
  }

  .card-pale:hover {
    border-color: var(--color-pale-gray-medium);
  }

  /* Soft Section Card - For content containers with subtle fills */
  .card-soft {
    @apply rounded-xl p-6;
    background-color: var(--color-pale-gray-light);
    border: 1px solid var(--color-pale-gray);
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     FORM INPUTS
     Elegant form controls with refined focus states
     ═══════════════════════════════════════════════════════════════════════════ */

  /*
   * Base Input - Optimized for Ages 40-70
   * - Minimum 48px height for touch targets
   * - 18px font size minimum
   * - High contrast placeholder text
   * - Clear focus states
   */
  .input {
    @apply w-full bg-white text-slate-900 rounded-input border-2 border-slate-300;
    min-height: var(--touch-target-min);  /* 48px minimum touch target */
    padding: 0.75rem 1rem;
    font-size: var(--font-size-min-body);  /* 18px minimum */
    line-height: 1.5;
    transition: all var(--transition-base);
    box-shadow: var(--shadow-xs);
  }

  .input::placeholder {
    @apply text-slate-500;  /* Darkened for better contrast - was slate-400 */
    font-size: inherit;
  }

  .input:hover:not(:disabled):not(:focus) {
    @apply border-slate-500;  /* More visible hover state */
  }

  .input:focus {
    @apply border-brand-600 outline-none;  /* Darker green for better contrast */
    box-shadow:
      0 0 0 var(--focus-ring-offset) #FFFFFF,
      0 0 0 calc(var(--focus-ring-offset) + var(--focus-ring-width)) var(--focus-ring-color);
  }

  .input:disabled {
    @apply bg-slate-100 text-slate-600 cursor-not-allowed;
    border-style: dashed;  /* Visual cue for disabled state */
  }

  /* Input with error */
  .input-error {
    @apply border-error-500;
  }

  .input-error:focus {
    @apply border-error-500;
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.12), var(--shadow-xs);
  }

  /* Input with success */
  .input-success {
    @apply border-success-500;
  }

  .input-success:focus {
    @apply border-success-500;
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.12), var(--shadow-xs);
  }

  /* Input sizes */
  .input-sm {
    @apply px-3 py-2 text-sm;
  }

  .input-lg {
    @apply px-5 py-4 text-lg;
  }

  /* Input with icon */
  .input-group {
    @apply relative;
  }

  .input-icon-right {
    @apply pr-12;
  }

  .input-icon-left {
    @apply pl-12;
  }

  .input-icon {
    @apply absolute top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none;
  }

  .input-icon-right + .input-icon {
    @apply left-4;
  }

  .input-icon-left + .input-icon {
    @apply right-4;
  }

  /* Textarea */
  .textarea {
    @apply input resize-y;
    min-height: 120px;
  }

  /* Select */
  .select {
    @apply input appearance-none cursor-pointer;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2364748B'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: left 1rem center;
    background-size: 1.25rem;
    padding-left: 3rem;
  }

  /*
   * Checkbox & Radio - Enlarged for Ages 40-70
   * - Increased size from 20px to 24px for better visibility
   * - Larger checkmark/dot for easier recognition
   * - Touch target extends beyond visual boundary
   */
  .checkbox,
  .radio {
    @apply appearance-none border-2 border-slate-400 bg-white cursor-pointer transition-all duration-200;
    width: 24px;
    height: 24px;
    /* Extend touch target */
    position: relative;
  }

  /* Invisible touch target expansion */
  .checkbox::before,
  .radio::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: var(--touch-target-min);
    height: var(--touch-target-min);
  }

  .checkbox {
    @apply rounded-md;  /* Slightly larger radius */
  }

  .radio {
    @apply rounded-full;
  }

  .checkbox:checked,
  .radio:checked {
    @apply bg-brand-600 border-brand-600;  /* Darker for better contrast */
  }

  .checkbox:checked {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white' stroke='white' stroke-width='2'%3E%3Cpath d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z'/%3E%3C/svg%3E");
    background-size: 18px;  /* Larger checkmark */
    background-position: center;
    background-repeat: no-repeat;
  }

  .radio:checked {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Ccircle cx='12' cy='12' r='7'/%3E%3C/svg%3E");
    background-size: 14px;  /* Larger dot */
    background-position: center;
    background-repeat: no-repeat;
  }

  .checkbox:focus,
  .radio:focus {
    @apply outline-none;
    box-shadow:
      0 0 0 var(--focus-ring-offset) #FFFFFF,
      0 0 0 calc(var(--focus-ring-offset) + var(--focus-ring-width)) var(--focus-ring-color);
  }

  /* Hover state for better feedback */
  .checkbox:hover:not(:disabled),
  .radio:hover:not(:disabled) {
    @apply border-brand-500;
  }

  /* Label - Larger for readability */
  .label {
    @apply block font-medium text-slate-800 mb-2;
    font-size: var(--font-size-min-label);  /* 16px minimum */
  }

  .label-required::after {
    content: ' *';
    @apply text-error-600 font-bold;
  }

  /* Help text - Minimum readable size */
  .help-text {
    @apply text-slate-600 mt-2;
    font-size: var(--font-size-min-caption);  /* 15px minimum */
    line-height: 1.5;
  }

  .error-text {
    @apply text-error-700 mt-2 font-medium;
    font-size: var(--font-size-min-caption);  /* 15px minimum */
    line-height: 1.5;
  }

  /* Success text for form validation */
  .success-text {
    @apply text-success-700 mt-2 font-medium;
    font-size: var(--font-size-min-caption);
    line-height: 1.5;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     CONTENT BOXES
     Sophisticated containers with subtle borders
     ═══════════════════════════════════════════════════════════════════════════ */

  /* Base Content Box */
  .content-box {
    @apply bg-white rounded-xl border border-slate-200 p-6;
    box-shadow: var(--shadow-xs);
  }

  /* Highlighted Content Box */
  .content-box-highlight {
    @apply content-box;
    border-right-width: 4px;
    border-right-color: var(--color-brand-500);
    background: linear-gradient(90deg, rgba(213, 160, 53, 0.04) 0%, transparent 100%);
  }

  /* Info Box */
  .content-box-info {
    @apply content-box border-learn-200 bg-learn-50/50;
  }

  /* Warning Box */
  .content-box-warning {
    @apply content-box border-warning-200 bg-warning-50/50;
  }

  /* Success Box */
  .content-box-success {
    @apply content-box border-success-200 bg-success-50/50;
  }

  /* Quote Box */
  .content-box-quote {
    @apply content-box relative pr-8;
    border-right: 4px solid var(--color-gold-400);
    background: linear-gradient(90deg, rgba(242, 196, 100, 0.05) 0%, transparent 100%);
  }

  .content-box-quote::before {
    content: '\201D';
    @apply absolute top-4 right-4 text-6xl text-gold-300 font-serif leading-none;
  }

  /* Stats Box */
  .content-box-stats {
    @apply content-box text-center;
    background: linear-gradient(180deg, #FFFFFF 0%, #F8FAFC 100%);
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     BADGES & TAGS
     ═══════════════════════════════════════════════════════════════════════════ */

  .badge {
    @apply inline-flex items-center gap-1.5 px-3 py-1 text-sm font-medium rounded-badge;
  }

  .badge-brand {
    @apply bg-brand-100 text-brand-700;
  }

  .badge-navy {
    @apply bg-navy-100 text-navy-700;
  }

  .badge-gold {
    @apply bg-gold-100 text-gold-700;
  }

  .badge-learn {
    @apply bg-learn-100 text-learn-700;
  }

  .badge-accounts {
    @apply bg-accounts-100 text-accounts-700;
  }

  .badge-trust {
    @apply bg-trust-100 text-trust-700;
  }

  .badge-success {
    @apply bg-success-100 text-success-700;
  }

  .badge-warning {
    @apply bg-warning-100 text-warning-700;
  }

  .badge-error {
    @apply bg-error-100 text-error-700;
  }

  /* Tag - Pill shaped */
  .tag {
    @apply inline-flex items-center gap-1.5 px-4 py-1.5 text-sm font-medium rounded-tag bg-slate-100 text-slate-700;
    transition: all var(--transition-base);
  }

  .tag:hover {
    @apply bg-slate-200;
  }

  .tag-brand {
    @apply bg-brand-50 text-brand-600;
  }

  .tag-brand:hover {
    @apply bg-brand-100;
  }

  /* Trust Badge - Premium indicator */
  .trust-badge {
    @apply inline-flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-full;
    background: linear-gradient(135deg, #FDF2F4 0%, #FCE4E8 100%);
    color: #d5a035;
    border: 1px solid rgba(124, 45, 60, 0.2);
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     ARTICLE CONTENT TYPOGRAPHY SYSTEM
     Premium institutional fintech typography for long-form content
     Designed for WCAG AAA accessibility and Arabic RTL optimization
     ═══════════════════════════════════════════════════════════════════════════ */

  .article-content {
    @apply prose prose-lg max-w-none;
    --tw-prose-body: #334155;
    --tw-prose-headings: #102A43;
    --tw-prose-links: #d5a035;
    --tw-prose-bold: #1E293B;
    --tw-prose-quotes: #475569;
    --tw-prose-quote-borders: #E5A836;

    /* Pillar color variables - can be overridden per pillar */
    --article-pillar-color: #d5a035;           /* Default: Emerald */
    --article-pillar-color-rgb: 30, 158, 111;
    --article-accent-line: #E5E7EB;
  }

  /* Pillar-specific color schemes */
  .article-content[data-pillar="learn"] {
    --article-pillar-color: #d5a035;
    --article-pillar-color-rgb: 59, 130, 246;
  }

  .article-content[data-pillar="accounts"] {
    --article-pillar-color: #d5a035;
    --article-pillar-color-rgb: 213, 160, 53;
  }

  .article-content[data-pillar="trust"] {
    --article-pillar-color: #A21CAF;
    --article-pillar-color-rgb: 162, 28, 175;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     H2 HEADINGS - First Word Underline with Fading Extension Line
     Premium institutional styling with precise visual hierarchy

     Visual effect (RTL):
     أساسيات الاستثمار في الأسهم
     ═══════════ ─────────────────────────────────→ (fades)
     [thick]      [thin gray fading line]

     The thick brand-colored line appears under the first word only.
     A thin gray line extends from there and fades towards the left (end).
     ───────────────────────────────────────────────────────────────────────── */

  .article-content h2 {
    @apply relative text-h2-mobile md:text-h2-desktop font-heading font-bold text-navy-900;
    margin-top: 3rem;
    margin-bottom: 1.75rem;
    padding-bottom: 1.25rem;
    line-height: 1.3;
    letter-spacing: -0.01em;
  }

  /* Thin pale gray fading line - extends full width, fades at the end (left in RTL) */
  .article-content h2::after {
    content: '';
    position: absolute;
    bottom: 0;
    right: 0;
    left: 0;
    height: 1px;
    background: linear-gradient(
      to left,
      var(--color-pale-gray-medium) 0%,
      var(--color-pale-gray) 30%,
      rgba(226, 232, 240, 0.4) 70%,
      rgba(226, 232, 240, 0) 100%
    );
  }

  /* Thick brand-colored underline under first word area (right side in RTL) */
  .article-content h2::before {
    content: '';
    position: absolute;
    bottom: -2px;
    right: 0;
    width: clamp(80px, 20%, 140px);
    height: 4px;
    background-color: var(--color-brand-500);
    border-radius: 2px;
    z-index: 1;
  }

  /* Pillar-specific accent colors for H2 thick underline */
  .article-content[data-pillar="learn"] h2::before {
    background-color: #d5a035;
  }

  .article-content[data-pillar="accounts"] h2::before {
    background-color: #d5a035;
  }

  .article-content[data-pillar="trust"] h2::before {
    background-color: #A21CAF;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     H3 HEADINGS - Vertical Accent Line
     Thick vertical line at the beginning of the heading (right side in RTL)

     Visual effect (RTL):
     ║ عنوان فرعي
     [vertical thick line] [heading text]
     ───────────────────────────────────────────────────────────────────────── */

  .article-content h3 {
    @apply relative text-h3-mobile md:text-h3-desktop font-heading font-bold text-navy-800;
    margin-top: 2.5rem;
    margin-bottom: 1.25rem;
    padding-right: 1rem;
    line-height: 1.35;
  }

  /* Vertical accent line before H3 - always visible */
  .article-content h3::before {
    content: '';
    position: absolute;
    right: 0;
    top: 0.15em;
    width: 4px;
    height: 1.2em;
    background-color: var(--color-brand-500);
    border-radius: 2px;
  }

  /* Pillar-specific accent colors for H3 vertical line */
  .article-content[data-pillar="learn"] h3::before {
    background-color: #d5a035;
  }

  .article-content[data-pillar="accounts"] h3::before {
    background-color: #d5a035;
  }

  .article-content[data-pillar="trust"] h3::before {
    background-color: #A21CAF;
  }

  /* Optional animation for H3 when entering viewport (progressive enhancement) */
  @supports (animation-timeline: view()) {
    .article-content h3::before {
      animation: h3-line-grow 0.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
      animation-timeline: view();
      animation-range: entry 0% entry 30%;
    }
  }

  @keyframes h3-line-grow {
    from {
      height: 0;
      opacity: 0;
    }
    to {
      height: 1.2em;
      opacity: 1;
    }
  }

  /* Fallback for browsers without animation-timeline support - ensure line is visible */
  @supports not (animation-timeline: view()) {
    .article-content h3::before {
      height: 1.2em;
    }
  }

  /* Reduced motion preference - disable animations but keep decoration visible */
  @media (prefers-reduced-motion: reduce) {
    .article-content h3::before {
      animation: none;
      height: 1.2em;
    }
  }

  /* ─────────────────────────────────────────────────────────────────────────
     FINTECH CUSTOM BULLETS - Premium List Styling
     Custom bullet indicators replacing standard dots
     ───────────────────────────────────────────────────────────────────────── */

  .article-content ul {
    @apply mb-6 space-y-3;
    list-style: none;
    padding-right: 0;
  }

  .article-content ul > li {
    @apply relative text-slate-700;
    padding-right: 1.75rem;
    line-height: 1.85;
  }

  /* Custom square bullet - fintech style */
  .article-content ul > li::before {
    content: '';
    position: absolute;
    right: 0;
    top: 0.65em;
    width: 8px;
    height: 8px;
    background-color: var(--article-pillar-color);
    border-radius: 2px;
    transform: rotate(45deg) scale(0.85);
    transition: transform 0.2s ease, background-color 0.2s ease;
  }

  /* Hover effect on list items */
  .article-content ul > li:hover::before {
    transform: rotate(45deg) scale(1);
    background-color: #1B365D;
  }

  /* Nested lists - chevron style */
  .article-content ul ul {
    margin-top: 0.75rem;
    margin-bottom: 0;
  }

  .article-content ul ul > li::before {
    width: 6px;
    height: 6px;
    background-color: transparent;
    border: 2px solid var(--article-pillar-color);
    border-radius: 1px;
    transform: rotate(45deg) scale(0.9);
  }

  /* Third level - small dot */
  .article-content ul ul ul > li::before {
    width: 5px;
    height: 5px;
    background-color: #B79A5A;
    border: none;
    border-radius: 50%;
    transform: none;
  }

  /* Ordered lists - sophisticated numbering */
  .article-content ol {
    @apply mb-6 space-y-3;
    list-style: none;
    padding-right: 0;
    counter-reset: article-counter;
  }

  .article-content ol > li {
    @apply relative text-slate-700;
    padding-right: 2.5rem;
    line-height: 1.85;
    counter-increment: article-counter;
  }

  .article-content ol > li::before {
    content: counter(article-counter, arabic-indic);
    position: absolute;
    right: 0;
    top: 0;
    width: 1.75rem;
    height: 1.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #1B365D 0%, #243B53 100%);
    color: white;
    font-family: var(--font-heading);
    font-size: 0.875rem;
    font-weight: 600;
    border-radius: 6px;
    line-height: 1;
  }

  /* Nested ordered lists */
  .article-content ol ol > li::before {
    background: transparent;
    border: 2px solid #1B365D;
    color: #1B365D;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     ALTERNATIVE BULLET STYLES - Utility Classes
     Apply these classes to ul elements for different bullet styles
     ───────────────────────────────────────────────────────────────────────── */

  /* Arrow bullets */
  .article-content ul.bullets-arrow > li::before {
    width: 0;
    height: 0;
    background: transparent;
    border-top: 5px solid transparent;
    border-bottom: 5px solid transparent;
    border-right: 7px solid var(--article-pillar-color);
    border-radius: 0;
    transform: none;
    top: 0.55em;
  }

  /* Chevron bullets */
  .article-content ul.bullets-chevron > li::before {
    width: 8px;
    height: 8px;
    background: transparent;
    border-right: 2.5px solid var(--article-pillar-color);
    border-bottom: 2.5px solid var(--article-pillar-color);
    border-radius: 0;
    transform: rotate(-45deg);
    top: 0.5em;
  }

  /* Check mark bullets - for completed/verified items */
  .article-content ul.bullets-check > li::before {
    content: '';
    width: 18px;
    height: 18px;
    background-color: rgba(var(--article-pillar-color-rgb), 0.1);
    border: 2px solid var(--article-pillar-color);
    border-radius: 50%;
    transform: none;
    top: 0.35em;
    right: -2px;
  }

  .article-content ul.bullets-check > li::after {
    content: '';
    position: absolute;
    right: 4px;
    top: 0.55em;
    width: 6px;
    height: 10px;
    border-right: 2.5px solid var(--article-pillar-color);
    border-bottom: 2.5px solid var(--article-pillar-color);
    transform: rotate(45deg);
  }

  /* Gold accent bullets - for premium/featured lists */
  .article-content ul.bullets-gold > li::before {
    background: linear-gradient(135deg, #B79A5A 0%, #D4AF37 100%);
    box-shadow: 0 2px 4px rgba(183, 154, 90, 0.3);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     LINKS & INLINE ELEMENTS
     ───────────────────────────────────────────────────────────────────────── */

  .article-content a {
    @apply text-brand-600 font-medium no-underline;
    box-shadow: inset 0 -2px 0 rgba(213, 160, 53, 0.25);
    transition: box-shadow var(--transition-base), color var(--transition-base);
  }

  .article-content a:hover {
    @apply text-brand-700;
    box-shadow: inset 0 -24px 0 rgba(213, 160, 53, 0.12);
  }

  .article-content a:focus-visible {
    @apply outline-none;
    box-shadow:
      0 0 0 3px rgba(213, 160, 53, 0.35),
      inset 0 -2px 0 rgba(213, 160, 53, 0.25);
  }

  .article-content strong {
    @apply font-bold text-navy-900;
  }

  .article-content em {
    @apply text-slate-700;
    font-style: normal;
    background: linear-gradient(180deg, transparent 60%, rgba(var(--article-pillar-color-rgb), 0.15) 60%);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     BLOCKQUOTES - Premium Citation Styling
     ───────────────────────────────────────────────────────────────────────── */

  .article-content blockquote {
    @apply relative my-8 py-6 text-slate-600;
    padding-right: 2rem;
    padding-left: 1.5rem;
    border-right: 4px solid #B79A5A;
    background: linear-gradient(
      90deg,
      rgba(183, 154, 90, 0.06) 0%,
      rgba(183, 154, 90, 0.02) 50%,
      transparent 100%
    );
    border-radius: 0 8px 8px 0;
    font-style: normal;
  }

  .article-content blockquote::before {
    content: '\201D';
    position: absolute;
    top: -0.5rem;
    right: 1rem;
    font-size: 4rem;
    font-family: Georgia, serif;
    color: rgba(183, 154, 90, 0.25);
    line-height: 1;
  }

  .article-content blockquote p {
    @apply text-slate-600 mb-0;
    font-size: 1.1em;
    line-height: 1.9;
  }

  .article-content blockquote cite {
    @apply block mt-4 text-sm text-slate-500 font-medium not-italic;
  }

  .article-content blockquote cite::before {
    content: '\2014\0020';
  }

  /* ─────────────────────────────────────────────────────────────────────────
     CODE & TECHNICAL CONTENT
     ───────────────────────────────────────────────────────────────────────── */

  .article-content code {
    @apply bg-slate-100 text-slate-800 px-2 py-1 rounded text-sm font-mono;
    border: 1px solid rgba(226, 232, 240, 0.8);
  }

  .article-content pre {
    @apply bg-navy-900 text-slate-100 rounded-xl my-8 overflow-x-auto;
    padding: 1.5rem;
    direction: ltr;
    text-align: left;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.05),
      0 4px 20px rgba(16, 42, 67, 0.15);
  }

  .article-content pre code {
    @apply bg-transparent border-0 p-0;
    color: inherit;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     TABLES - Institutional Data Presentation
     ───────────────────────────────────────────────────────────────────────── */

  .article-content table {
    @apply w-full my-8 border-collapse bg-white rounded-xl overflow-hidden;
    box-shadow: var(--shadow-card);
    border: 1px solid rgba(226, 232, 240, 0.8);
  }

  .article-content thead {
    background: linear-gradient(135deg, #1B365D 0%, #243B53 100%);
  }

  .article-content th {
    @apply p-4 text-right font-semibold text-white;
    font-family: var(--font-heading);
    font-size: 0.9375rem;
    letter-spacing: 0.01em;
  }

  .article-content td {
    @apply p-4 border-b border-slate-100 text-right text-slate-700;
  }

  .article-content tbody tr {
    transition: background-color 0.15s ease;
  }

  .article-content tbody tr:hover {
    background-color: rgba(var(--article-pillar-color-rgb), 0.04);
  }

  .article-content tbody tr:last-child td {
    @apply border-b-0;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     HORIZONTAL RULES & DIVIDERS
     ───────────────────────────────────────────────────────────────────────── */

  .article-content hr {
    @apply my-12 border-0;
    height: 1px;
    background: linear-gradient(
      to left,
      transparent 0%,
      rgba(226, 232, 240, 0.8) 20%,
      rgba(226, 232, 240, 0.8) 80%,
      transparent 100%
    );
  }

  /* Decorative divider variant */
  .article-content hr.divider-ornament {
    position: relative;
    background: transparent;
  }

  .article-content hr.divider-ornament::before {
    content: '';
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 60%;
    height: 1px;
    background: linear-gradient(
      to right,
      transparent 0%,
      #E5E7EB 30%,
      #E5E7EB 70%,
      transparent 100%
    );
  }

  .article-content hr.divider-ornament::after {
    content: '';
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%) rotate(45deg);
    width: 8px;
    height: 8px;
    background: var(--article-pillar-color);
    border-radius: 2px;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     IMAGES & FIGURES
     ───────────────────────────────────────────────────────────────────────── */

  .article-content img {
    @apply rounded-xl my-8;
    box-shadow: var(--shadow-card);
    border: 1px solid rgba(226, 232, 240, 0.6);
  }

  .article-content figure {
    @apply my-10;
  }

  .article-content figcaption {
    @apply text-center text-slate-500 mt-3;
    font-size: var(--font-size-min-caption);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     PARAGRAPHS
     ───────────────────────────────────────────────────────────────────────── */

  .article-content p {
    @apply text-slate-700 mb-6;
    line-height: 1.9;
    letter-spacing: 0.005em;
  }

  .article-content p:first-of-type {
    font-size: 1.125em;
    line-height: 1.85;
  }

  /* Lead paragraph styling */
  .article-content p.lead,
  .article-content > p:first-of-type {
    @apply text-slate-600;
    font-size: 1.15em;
    line-height: 1.8;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     TABLE OF CONTENTS
     Uses pale gray background for subtle, premium appearance
     ═══════════════════════════════════════════════════════════════════════════ */

  .toc {
    @apply rounded-2xl p-6 sticky top-24;
    background-color: var(--color-pale-gray-light);
    border: 1px solid var(--color-pale-gray);
  }

  .toc-title {
    @apply text-sm font-semibold text-navy-800 uppercase tracking-wider mb-4;
  }

  .toc-link {
    @apply block py-2.5 pr-4 text-slate-600 text-sm border-r-2 border-transparent transition-all duration-200;
  }

  .toc-link:hover {
    @apply text-brand-600 border-brand-300;
    padding-right: 1.25rem;
  }

  .toc-link.active {
    @apply text-brand-600 border-brand-500 font-medium;
    padding-right: 1.25rem;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     FAQ ACCORDION
     ═══════════════════════════════════════════════════════════════════════════ */

  .faq-item {
    @apply border-b border-slate-200 last:border-0;
  }

  .faq-question {
    @apply flex justify-between items-center w-full py-5 text-right font-semibold text-lg text-navy-800 cursor-pointer transition-colors duration-200;
  }

  .faq-question:hover {
    @apply text-brand-600;
  }

  .faq-chevron {
    @apply w-5 h-5 text-slate-400 transition-transform duration-300;
  }

  .faq-item[data-open="true"] .faq-chevron {
    transform: rotate(180deg);
  }

  .faq-answer {
    @apply pb-5 text-slate-600 leading-relaxed;
    animation: fadeInUp 0.3s ease-out;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     COMPARISON TABLE
     ═══════════════════════════════════════════════════════════════════════════ */

  .comparison-table {
    @apply w-full border-collapse bg-white rounded-2xl overflow-hidden;
    box-shadow: var(--shadow-card);
  }

  .comparison-table thead {
    background: linear-gradient(135deg, #243B53 0%, #102A43 100%);
  }

  .comparison-table th {
    @apply text-white font-semibold p-5 text-right;
  }

  .comparison-table td {
    @apply p-5 border-b border-slate-100 text-right text-slate-700;
  }

  .comparison-table tbody tr:hover {
    @apply bg-slate-50;
  }

  .comparison-table tbody tr:last-child td {
    @apply border-b-0;
  }

  /* Best choice highlight */
  .comparison-table td.best-choice {
    @apply bg-brand-50 text-brand-700 font-medium;
    position: relative;
  }

  .comparison-table td.best-choice::after {
    content: '';
    @apply absolute inset-y-0 right-0 w-0.5 bg-brand-500;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     FINTECH TABLE SYSTEM - Institutional-Grade Data Presentation
     ═══════════════════════════════════════════════════════════════════════════

     A comprehensive table system designed for $200M fintech aesthetics.
     Features premium styling, WCAG AAA accessibility, and full RTL support.

     Classes:
     - .fintech-table              Base institutional table
     - .fintech-table--comparison  Comparison variant with recommendations
     - .fintech-table--data        Financial data variant with number alignment
     - .fintech-table--compact     Reduced padding for dense data
     - .fintech-table--striped     Alternating row colors
     - .fintech-table--bordered    Cell borders visible
     - .fintech-table--sticky      Sticky header on scroll

     Cell Variants:
     - .cell-number                Right-aligned (LTR) numbers
     - .cell-currency              Currency formatting
     - .cell-percentage            Percentage with color coding
     - .cell-status                Status badges/pills
     - .cell-action                Action buttons
     - .cell-highlight             Emphasized cell

     ═══════════════════════════════════════════════════════════════════════════ */

  /* ─────────────────────────────────────────────────────────────────────────
     BASE FINTECH TABLE
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    background-color: #FFFFFF;
    border-radius: 12px;
    overflow: hidden;
    box-shadow:
      0 2px 8px rgba(15, 23, 42, 0.04),
      0 8px 24px rgba(15, 23, 42, 0.06);
    border: 1px solid rgba(226, 232, 240, 0.8);
    font-family: var(--font-body);
    direction: rtl;
  }

  /* Container for horizontal scroll on mobile */
  .fintech-table-container {
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    border-radius: 12px;
  }

  .fintech-table-container .fintech-table {
    min-width: 600px;
  }

  /* Scroll shadow indicators */
  .fintech-table-container {
    background:
      linear-gradient(to left, #FFFFFF 30%, rgba(255, 255, 255, 0)),
      linear-gradient(to right, #FFFFFF 30%, rgba(255, 255, 255, 0)),
      linear-gradient(to left, rgba(15, 23, 42, 0.06), rgba(255, 255, 255, 0)),
      linear-gradient(to right, rgba(15, 23, 42, 0.06), rgba(255, 255, 255, 0));
    background-position: right center, left center, right center, left center;
    background-repeat: no-repeat;
    background-size: 40px 100%, 40px 100%, 20px 100%, 20px 100%;
    background-attachment: local, local, scroll, scroll;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     TABLE HEADER - Premium Navy Gradient
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table thead {
    background: linear-gradient(135deg, #1B365D 0%, #243B53 50%, #1B365D 100%);
    position: relative;
  }

  /* Subtle texture overlay for premium feel */
  .fintech-table thead::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      180deg,
      rgba(255, 255, 255, 0.05) 0%,
      transparent 50%,
      rgba(0, 0, 0, 0.05) 100%
    );
    pointer-events: none;
  }

  .fintech-table th {
    padding: 18px 20px;
    text-align: right;
    font-family: var(--font-heading);
    font-size: 0.9375rem;
    font-weight: 600;
    color: #FFFFFF;
    letter-spacing: 0.01em;
    white-space: nowrap;
    position: relative;
    border-bottom: 3px solid rgba(183, 154, 90, 0.3);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }

  /* Header cell separator */
  .fintech-table th:not(:last-child)::after {
    content: '';
    position: absolute;
    left: 0;
    top: 25%;
    height: 50%;
    width: 1px;
    background: linear-gradient(
      180deg,
      transparent 0%,
      rgba(255, 255, 255, 0.15) 50%,
      transparent 100%
    );
  }

  /* Sortable header styling */
  .fintech-table th[data-sortable] {
    cursor: pointer;
    user-select: none;
    transition: background-color 0.2s ease;
  }

  .fintech-table th[data-sortable]:hover {
    background: rgba(255, 255, 255, 0.08);
  }

  .fintech-table th[data-sortable]::before {
    content: '';
    display: inline-block;
    width: 0;
    height: 0;
    margin-left: 8px;
    vertical-align: middle;
    border-left: 4px solid transparent;
    border-right: 4px solid transparent;
    border-bottom: 5px solid rgba(255, 255, 255, 0.4);
    opacity: 0;
    transition: opacity 0.2s ease, transform 0.2s ease;
  }

  .fintech-table th[data-sortable]:hover::before {
    opacity: 1;
  }

  .fintech-table th[data-sort="asc"]::before {
    opacity: 1;
    border-bottom: 5px solid #B79A5A;
    transform: rotate(0deg);
  }

  .fintech-table th[data-sort="desc"]::before {
    opacity: 1;
    border-bottom: 5px solid #B79A5A;
    transform: rotate(180deg);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     TABLE BODY & ROWS
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table tbody {
    background-color: #FFFFFF;
  }

  .fintech-table tbody tr {
    transition: background-color 0.15s ease, box-shadow 0.15s ease;
  }

  .fintech-table tbody tr:nth-child(even) {
    background-color: #FAFBFC;
  }

  .fintech-table tbody tr:hover {
    background-color: rgba(27, 54, 93, 0.03);
    box-shadow: inset 0 0 0 1px rgba(27, 54, 93, 0.06);
  }

  /* Row focus for keyboard navigation */
  .fintech-table tbody tr:focus-within {
    background-color: rgba(213, 160, 53, 0.06);
    box-shadow: inset 4px 0 0 0 #d5a035;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     TABLE CELLS
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table td {
    padding: 16px 20px;
    text-align: right;
    color: #334155;
    font-size: var(--font-size-min-caption);
    line-height: 1.6;
    border-bottom: 1px solid rgba(226, 232, 240, 0.6);
    vertical-align: middle;
    transition: background-color 0.15s ease;
  }

  .fintech-table tbody tr:last-child td {
    border-bottom: none;
  }

  /* First column styling (row header) */
  .fintech-table td:first-child {
    font-weight: 500;
    color: #1B365D;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     CELL VARIANTS - Number Formatting
     ───────────────────────────────────────────────────────────────────────── */

  /* Numbers should be LTR for universal readability */
  .fintech-table .cell-number,
  .fintech-table .cell-currency,
  .fintech-table .cell-percentage {
    direction: ltr;
    text-align: left;
    unicode-bidi: embed;
    font-family: var(--font-mono), 'IBM Plex Mono', Consolas, monospace;
    font-size: 0.9375rem;
    font-weight: 500;
    letter-spacing: -0.01em;
    font-variant-numeric: tabular-nums;
  }

  /* Currency styling */
  .fintech-table .cell-currency {
    color: #1B365D;
  }

  .fintech-table .cell-currency::before {
    content: attr(data-currency);
    margin-left: 4px;
    font-size: 0.8125rem;
    color: #64748B;
  }

  /* Percentage with color coding */
  .fintech-table .cell-percentage {
    font-weight: 600;
  }

  .fintech-table .cell-percentage.positive {
    color: #059669;
  }

  .fintech-table .cell-percentage.positive::before {
    content: '+';
  }

  .fintech-table .cell-percentage.negative {
    color: #DC2626;
  }

  .fintech-table .cell-percentage.neutral {
    color: #64748B;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     CELL VARIANTS - Status Badges
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table .cell-status {
    padding: 16px 12px;
  }

  .status-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 14px;
    border-radius: 9999px;
    font-size: 0.8125rem;
    font-weight: 600;
    letter-spacing: 0.01em;
    white-space: nowrap;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
  }

  .status-badge:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  /* Status badge dot indicator */
  .status-badge::before {
    content: '';
    width: 6px;
    height: 6px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  /* Status variants */
  .status-badge--active,
  .status-badge--success {
    background: linear-gradient(135deg, #ECFDF5 0%, #D1FAE5 100%);
    color: #047857;
    border: 1px solid rgba(4, 120, 87, 0.15);
  }

  .status-badge--active::before,
  .status-badge--success::before {
    background-color: #10B981;
    box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.2);
  }

  .status-badge--pending,
  .status-badge--warning {
    background: linear-gradient(135deg, #FFFBEB 0%, #FEF3C7 100%);
    color: #B45309;
    border: 1px solid rgba(180, 83, 9, 0.15);
  }

  .status-badge--pending::before,
  .status-badge--warning::before {
    background-color: #F59E0B;
    box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.2);
  }

  .status-badge--inactive,
  .status-badge--error {
    background: linear-gradient(135deg, #FEF2F2 0%, #FECACA 100%);
    color: #B91C1C;
    border: 1px solid rgba(185, 28, 28, 0.15);
  }

  .status-badge--inactive::before,
  .status-badge--error::before {
    background-color: #EF4444;
    box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.2);
  }

  .status-badge--info {
    background: linear-gradient(135deg, #EFF6FF 0%, #DBEAFE 100%);
    color: #1D4ED8;
    border: 1px solid rgba(29, 78, 216, 0.15);
  }

  .status-badge--info::before {
    background-color: #3B82F6;
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
  }

  .status-badge--premium {
    background: linear-gradient(135deg, #FFFBF0 0%, #FCEAC4 100%);
    color: #9E6B10;
    border: 1px solid rgba(183, 154, 90, 0.25);
  }

  .status-badge--premium::before {
    background-color: #B79A5A;
    box-shadow: 0 0 0 2px rgba(183, 154, 90, 0.2);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     CELL VARIANTS - Actions
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table .cell-action {
    padding: 12px 16px;
    text-align: center;
  }

  .table-action-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 8px 16px;
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 500;
    text-decoration: none;
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
    min-height: 40px;
  }

  .table-action-btn--primary {
    background: linear-gradient(135deg, #e8bc5a 0%, #d5a035 100%);
    color: #102941;
    box-shadow: 0 2px 6px rgba(213, 160, 53, 0.25);
  }

  .table-action-btn--primary:hover {
    background: linear-gradient(135deg, #d5a035 0%, #b8892a 100%);
    box-shadow: 0 4px 12px rgba(213, 160, 53, 0.35);
    transform: translateY(-1px);
  }

  .table-action-btn--secondary {
    background: transparent;
    color: #1B365D;
    border: 1px solid #E2E8F0;
  }

  .table-action-btn--secondary:hover {
    background: #F8FAFC;
    border-color: #CBD5E1;
  }

  .table-action-btn--ghost {
    background: transparent;
    color: #64748B;
    padding: 8px;
    min-width: 40px;
  }

  .table-action-btn--ghost:hover {
    background: #F1F5F9;
    color: #1B365D;
  }

  /* Icon-only action button */
  .table-action-btn--icon {
    padding: 8px;
    min-width: 40px;
    border-radius: 8px;
  }

  .table-action-btn--icon svg {
    width: 18px;
    height: 18px;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     CELL VARIANTS - Highlight & Emphasis
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table .cell-highlight {
    background: linear-gradient(135deg, rgba(213, 160, 53, 0.06) 0%, rgba(213, 160, 53, 0.02) 100%);
    position: relative;
  }

  .fintech-table .cell-highlight::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    width: 3px;
    background: linear-gradient(180deg, #d5a035 0%, #b8892a 100%);
  }

  .fintech-table .cell-muted {
    color: #94A3B8;
    font-size: 0.875rem;
  }

  .fintech-table .cell-emphasis {
    font-weight: 600;
    color: #1B365D;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     TABLE VARIANT: COMPARISON
     For comparing features/products with recommended column
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table--comparison {
    /* Inherits base styles */
  }

  .fintech-table--comparison .col-recommended {
    position: relative;
    background: linear-gradient(
      180deg,
      rgba(213, 160, 53, 0.08) 0%,
      rgba(213, 160, 53, 0.03) 100%
    );
  }

  .fintech-table--comparison thead .col-recommended {
    background: linear-gradient(135deg, #d5a035 0%, #b8892a 100%);
  }

  .fintech-table--comparison thead .col-recommended::before {
    content: attr(data-badge);
    position: absolute;
    top: -1px;
    right: 50%;
    transform: translateX(50%);
    padding: 4px 16px;
    background: linear-gradient(135deg, #B79A5A 0%, #9E6B10 100%);
    color: #FFFFFF;
    font-size: 0.6875rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: 0 0 8px 8px;
    box-shadow: 0 2px 8px rgba(183, 154, 90, 0.3);
  }

  .fintech-table--comparison tbody .col-recommended {
    border-right: 2px solid rgba(213, 160, 53, 0.15);
    border-left: 2px solid rgba(213, 160, 53, 0.15);
  }

  .fintech-table--comparison tbody tr:last-child .col-recommended {
    border-bottom: 2px solid rgba(213, 160, 53, 0.15);
    border-radius: 0 0 8px 8px;
  }

  /* Check/cross indicators for feature comparison */
  .fintech-table--comparison .feature-yes {
    color: #059669;
    font-weight: 600;
  }

  .fintech-table--comparison .feature-yes::before {
    content: '';
    display: inline-block;
    width: 18px;
    height: 18px;
    margin-left: 8px;
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23059669'%3E%3Cpath d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'/%3E%3C/svg%3E") center/contain no-repeat;
    vertical-align: middle;
  }

  .fintech-table--comparison .feature-no {
    color: #94A3B8;
  }

  .fintech-table--comparison .feature-no::before {
    content: '';
    display: inline-block;
    width: 18px;
    height: 18px;
    margin-left: 8px;
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2394A3B8'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3C/svg%3E") center/contain no-repeat;
    vertical-align: middle;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     TABLE VARIANT: FINANCIAL DATA
     Optimized for financial reports and data tables
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table--data {
    font-variant-numeric: tabular-nums;
  }

  .fintech-table--data th {
    padding: 14px 16px;
    font-size: 0.8125rem;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    color: rgba(255, 255, 255, 0.95);
  }

  .fintech-table--data td {
    padding: 14px 16px;
    font-family: var(--font-mono), 'IBM Plex Mono', monospace;
    font-size: 0.875rem;
  }

  /* Row totals styling */
  .fintech-table--data .row-total {
    background: linear-gradient(135deg, #F8FAFC 0%, #F1F5F9 100%);
    font-weight: 600;
  }

  .fintech-table--data .row-total td {
    border-top: 2px solid #E2E8F0;
    color: #1B365D;
  }

  /* Subtotal rows */
  .fintech-table--data .row-subtotal {
    background: #FAFBFC;
  }

  .fintech-table--data .row-subtotal td {
    font-weight: 500;
    color: #475569;
    border-top: 1px dashed #CBD5E1;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     TABLE VARIANT: COMPACT
     Reduced padding for dense data display
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table--compact th {
    padding: 12px 14px;
    font-size: 0.8125rem;
  }

  .fintech-table--compact td {
    padding: 10px 14px;
    font-size: 0.875rem;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     TABLE VARIANT: STRIPED
     Explicit alternating rows (default has subtle striping)
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table--striped tbody tr:nth-child(even) {
    background-color: #F8FAFC;
  }

  .fintech-table--striped tbody tr:nth-child(odd) {
    background-color: #FFFFFF;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     TABLE VARIANT: BORDERED
     Visible cell borders
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table--bordered th,
  .fintech-table--bordered td {
    border: 1px solid rgba(226, 232, 240, 0.8);
  }

  .fintech-table--bordered th {
    border-color: rgba(255, 255, 255, 0.1);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     TABLE VARIANT: STICKY HEADER
     Fixed header on scroll
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table--sticky {
    position: relative;
  }

  .fintech-table--sticky thead {
    position: sticky;
    top: 0;
    z-index: 10;
  }

  .fintech-table--sticky thead th {
    box-shadow: 0 2px 8px rgba(15, 23, 42, 0.08);
  }

  /* Sticky with page header offset */
  .fintech-table--sticky-offset thead {
    top: var(--spacing-nav-height, 80px);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     TABLE FOOTER
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table tfoot {
    background: linear-gradient(180deg, #F8FAFC 0%, #F1F5F9 100%);
    border-top: 2px solid #E2E8F0;
  }

  .fintech-table tfoot td {
    padding: 14px 20px;
    font-weight: 600;
    color: #1B365D;
    border-bottom: none;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     TABLE CAPTION
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table caption {
    padding: 16px 20px;
    text-align: right;
    font-size: var(--font-size-min-caption);
    color: #64748B;
    caption-side: bottom;
    border-top: 1px solid #E2E8F0;
    background: #FAFBFC;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     EMPTY STATE
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table .empty-state {
    padding: 48px 24px;
    text-align: center;
  }

  .fintech-table .empty-state-icon {
    width: 48px;
    height: 48px;
    margin: 0 auto 16px;
    color: #CBD5E1;
  }

  .fintech-table .empty-state-title {
    font-size: 1rem;
    font-weight: 600;
    color: #475569;
    margin-bottom: 8px;
  }

  .fintech-table .empty-state-text {
    font-size: 0.875rem;
    color: #94A3B8;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     LOADING STATE
     ───────────────────────────────────────────────────────────────────────── */

  .fintech-table .loading-row td {
    position: relative;
    overflow: hidden;
  }

  .fintech-table .loading-row td::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.5) 50%,
      transparent 100%
    );
    animation: shimmer 1.5s infinite;
  }

  .fintech-table .skeleton-cell {
    height: 20px;
    background: #E2E8F0;
    border-radius: 4px;
    animation: pulse 2s infinite;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     RESPONSIVE ADJUSTMENTS
     ───────────────────────────────────────────────────────────────────────── */

  @media (max-width: 768px) {
    .fintech-table th {
      padding: 14px 12px;
      font-size: 0.8125rem;
    }

    .fintech-table td {
      padding: 12px;
      font-size: 0.875rem;
    }

    .fintech-table--comparison thead .col-recommended::before {
      font-size: 0.625rem;
      padding: 3px 10px;
    }

    .status-badge {
      padding: 4px 10px;
      font-size: 0.75rem;
    }

    .table-action-btn {
      padding: 6px 12px;
      font-size: 0.8125rem;
      min-height: 36px;
    }
  }

  /* Stack tables on very small screens */
  @media (max-width: 480px) {
    .fintech-table-container--stack .fintech-table {
      min-width: auto;
    }

    .fintech-table-container--stack .fintech-table thead {
      display: none;
    }

    .fintech-table-container--stack .fintech-table tbody tr {
      display: block;
      margin-bottom: 16px;
      border-radius: 12px;
      box-shadow: var(--shadow-card);
      border: 1px solid rgba(226, 232, 240, 0.8);
      overflow: hidden;
    }

    .fintech-table-container--stack .fintech-table tbody td {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px;
      border-bottom: 1px solid #F1F5F9;
    }

    .fintech-table-container--stack .fintech-table tbody td::before {
      content: attr(data-label);
      font-weight: 600;
      color: #1B365D;
      margin-left: 16px;
    }

    .fintech-table-container--stack .fintech-table tbody tr:last-child {
      margin-bottom: 0;
    }
  }

  /* ─────────────────────────────────────────────────────────────────────────
     ACCESSIBILITY ENHANCEMENTS
     ───────────────────────────────────────────────────────────────────────── */

  /* High contrast focus states */
  .fintech-table th:focus,
  .fintech-table td:focus {
    outline: none;
    box-shadow: inset 0 0 0 3px rgba(213, 160, 53, 0.5);
  }

  .fintech-table a:focus-visible,
  .fintech-table button:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px #FFFFFF, 0 0 0 6px #d5a035;
  }

  /* Ensure sufficient contrast for all text */
  .fintech-table tbody tr:hover td {
    color: #1E293B;
  }

  /* Screen reader only text for icons */
  .fintech-table .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     PRINT STYLES
     ───────────────────────────────────────────────────────────────────────── */

  @media print {
    .fintech-table {
      box-shadow: none;
      border: 1px solid #000;
    }

    .fintech-table thead {
      background: #1B365D !important;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }

    .fintech-table th {
      color: #FFFFFF !important;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }

    .fintech-table tbody tr:nth-child(even) {
      background: #F5F5F5 !important;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }

    .fintech-table--sticky thead {
      position: static;
    }

    .status-badge {
      border: 1px solid currentColor;
      background: transparent !important;
    }

    .table-action-btn {
      display: none;
    }
  }

  /* ─────────────────────────────────────────────────────────────────────────
     REDUCED MOTION
     ───────────────────────────────────────────────────────────────────────── */

  @media (prefers-reduced-motion: reduce) {
    .fintech-table tbody tr,
    .fintech-table td,
    .status-badge,
    .table-action-btn {
      transition: none;
    }

    .fintech-table .loading-row td::after,
    .fintech-table .skeleton-cell {
      animation: none;
    }
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     FLOATING CTA
     ═══════════════════════════════════════════════════════════════════════════ */

  .floating-cta {
    @apply fixed bottom-6 left-6 z-40 flex flex-col gap-3 md:hidden;
  }

  .floating-cta-btn {
    @apply flex items-center justify-center w-14 h-14 rounded-full shadow-xl transition-all duration-300;
  }

  .floating-cta-btn:hover {
    transform: scale(1.05);
  }

  .floating-cta-btn:active {
    transform: scale(0.95);
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     LOADING STATES
     ═══════════════════════════════════════════════════════════════════════════ */

  .skeleton {
    @apply bg-slate-200 animate-pulse rounded;
  }

  .skeleton-text {
    @apply h-4 rounded-full;
  }

  .skeleton-heading {
    @apply h-8 rounded-full;
  }

  .skeleton-card {
    @apply rounded-card;
  }

  /* Shimmer effect */
  .shimmer {
    background: linear-gradient(
      90deg,
      #F1F5F9 0%,
      #E2E8F0 50%,
      #F1F5F9 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s linear infinite;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     DIVIDERS
     Uses pale gray tokens for consistent, subtle separation
     ═══════════════════════════════════════════════════════════════════════════ */

  .divider {
    @apply my-8;
    border-top: 1px solid var(--color-pale-gray);
  }

  .divider-subtle {
    @apply my-6;
    border-top: 1px solid var(--color-pale-gray-light);
  }

  .divider-pale {
    @apply my-8;
    border-top: 1px solid var(--color-pale-gray);
  }

  .divider-gold {
    @apply border-t border-gold-200 my-8;
  }

  /* Decorative divider with pale gray fading effect */
  .divider-decorative {
    @apply flex items-center gap-4 my-12;
  }

  .divider-decorative::before,
  .divider-decorative::after {
    content: '';
    @apply flex-1 h-px;
    background: linear-gradient(to left, transparent, var(--color-pale-gray-medium), transparent);
  }

  .divider-decorative::after {
    background: linear-gradient(to right, transparent, var(--color-pale-gray-medium), transparent);
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     TOOLTIPS
     ═══════════════════════════════════════════════════════════════════════════ */

  .tooltip {
    @apply relative;
  }

  .tooltip-content {
    @apply absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 text-sm text-white bg-navy-900 rounded-lg whitespace-nowrap z-tooltip;
    box-shadow: var(--shadow-tooltip);
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-fast);
  }

  .tooltip-content::after {
    content: '';
    @apply absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-navy-900;
  }

  .tooltip:hover .tooltip-content {
    opacity: 1;
    visibility: visible;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     MODAL / DIALOG
     ═══════════════════════════════════════════════════════════════════════════ */

  .modal-overlay {
    @apply fixed inset-0 z-overlay;
    background: rgba(15, 23, 42, 0.6);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
  }

  .modal {
    @apply fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-modal bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-auto;
    box-shadow: var(--shadow-modal);
  }

  .modal-header {
    @apply flex items-center justify-between p-6 border-b border-slate-100;
  }

  .modal-body {
    @apply p-6;
  }

  .modal-footer {
    @apply flex items-center justify-end gap-3 p-6 border-t border-slate-100 bg-slate-50/50;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     HERO SECTIONS
     Premium institutional hero designs for pillar pages
     ═══════════════════════════════════════════════════════════════════════════ */

  .hero {
    @apply relative overflow-hidden;
    background: linear-gradient(180deg, #F6F8FA 0%, #FFFFFF 50%, #F8FAFC 100%);
  }

  .hero-navy {
    background: linear-gradient(135deg, #102A43 0%, #243B53 100%);
  }

  .hero-gradient-mesh {
    background:
      radial-gradient(at 0% 0%, rgba(213, 160, 53, 0.08) 0px, transparent 50%),
      radial-gradient(at 100% 0%, rgba(229, 168, 54, 0.06) 0px, transparent 50%),
      radial-gradient(at 100% 100%, rgba(59, 130, 246, 0.06) 0px, transparent 50%),
      radial-gradient(at 0% 100%, rgba(168, 85, 247, 0.06) 0px, transparent 50%),
      #F6F8FA;
  }

  /* Decorative elements */
  .hero-decoration {
    @apply absolute pointer-events-none;
  }

  .hero-decoration-circle {
    @apply rounded-full opacity-20;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     PREMIUM PILLAR HERO ANIMATIONS
     Sophisticated, subtle animations for institutional fintech feel
     ═══════════════════════════════════════════════════════════════════════════ */

  /* Floating particles - subtle ambient movement */
  @keyframes pillarHeroFloat {
    0%, 100% {
      transform: translateY(0) scale(1);
      opacity: 0.4;
    }
    50% {
      transform: translateY(-20px) scale(1.1);
      opacity: 0.7;
    }
  }

  /* Rising particles for growth/accounts theme */
  @keyframes pillarHeroRise {
    0% {
      transform: translateY(0) scale(1);
      opacity: 0.3;
    }
    50% {
      transform: translateY(-40px) scale(1.2);
      opacity: 0.6;
    }
    100% {
      transform: translateY(-80px) scale(0.8);
      opacity: 0;
    }
  }

  /* Chart line drawing animation */
  @keyframes drawChartLine {
    to {
      stroke-dashoffset: 0;
    }
  }

  /* Subtle pulse for icon containers */
  @keyframes heroIconPulse {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
    }
    50% {
      box-shadow: 0 0 40px 0 rgba(255, 255, 255, 0.05);
    }
  }

  /* Ambient glow pulsing */
  @keyframes ambientGlow {
    0%, 100% {
      opacity: 0.4;
      transform: scale(1);
    }
    50% {
      opacity: 0.6;
      transform: scale(1.05);
    }
  }

  /* Grid pattern subtle shift */
  @keyframes gridShift {
    0% {
      transform: translateX(0) translateY(0);
    }
    100% {
      transform: translateX(60px) translateY(60px);
    }
  }

  /* Premium card entrance animation */
  @keyframes cardEntrance {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Apply to pillar hero elements */
  .pillar-hero .hero-particle {
    animation: pillarHeroFloat 6s ease-in-out infinite;
  }

  .pillar-hero .hero-particle-rise {
    animation: pillarHeroRise 8s ease-in-out infinite;
  }

  .pillar-hero .hero-chart-line {
    stroke-dasharray: 2000;
    stroke-dashoffset: 2000;
    animation: drawChartLine 3s ease-out forwards;
  }

  .pillar-hero .hero-chart-line-secondary {
    stroke-dasharray: 2000;
    stroke-dashoffset: 2000;
    animation: drawChartLine 4s ease-out 0.5s forwards;
  }

  /* Card entrance with staggered delay */
  .pillar-hero ~ section .card,
  .pillar-hero ~ section article,
  .pillar-hero ~ section a[href*="/"] {
    animation: cardEntrance 0.5s ease-out both;
  }

  /* Reduced motion support for all hero animations */
  @media (prefers-reduced-motion: reduce) {
    .pillar-hero .hero-particle,
    .pillar-hero .hero-particle-rise,
    .pillar-hero .hero-chart-line,
    .pillar-hero .hero-chart-line-secondary {
      animation: none;
    }

    .pillar-hero .hero-chart-line,
    .pillar-hero .hero-chart-line-secondary {
      stroke-dasharray: none;
      stroke-dashoffset: 0;
    }

    .pillar-hero ~ section .card,
    .pillar-hero ~ section article,
    .pillar-hero ~ section a[href*="/"] {
      animation: none;
    }
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     SECTION CONTAINERS
     ═══════════════════════════════════════════════════════════════════════════ */

  .section {
    @apply py-section;
  }

  .section-sm {
    @apply py-section-sm;
  }

  .section-lg {
    @apply py-section-lg;
  }

  .section-alt {
    @apply bg-slate-50;
  }

  .section-navy {
    @apply bg-navy-900 text-white;
  }

  .section-navy h2,
  .section-navy h3 {
    @apply text-white;
  }

  .section-navy p {
    @apply text-navy-200;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   PREMIUM ICON SYSTEM - Institutional Fintech Design
   ═══════════════════════════════════════════════════════════════════════════

   A comprehensive icon styling system for $200M fintech aesthetics.
   Features bold strokes, premium colors, and sophisticated animations.

   Base Classes:
   - .icon                 Base icon styling with proper defaults

   Size Modifiers:
   - .icon--xs             16x16 - Inline text icons
   - .icon--sm             20x20 - Compact UI elements
   - .icon--md             24x24 - Default size (buttons, nav)
   - .icon--lg             32x32 - Feature highlights
   - .icon--xl             40x40 - Hero sections
   - .icon--2xl            48x48 - Large displays

   Color Modifiers:
   - .icon--navy           Primary navy #1B365D
   - .icon--emerald        Brand gold #d5a035
   - .icon--gold           Luxury gold #d5a035
   - .icon--brand          Brand gold #d5a035
   - .icon--learn          Learn pillar blue #3B82F6
   - .icon--accounts       Accounts pillar gold #d5a035
   - .icon--trust          Trust pillar burgundy #7C2D3C
   - .icon--white          White for dark backgrounds
   - .icon--muted          Muted slate for secondary

   Animation Modifiers:
   - .icon--animated       Enable hover animations
   - .icon--pulse          Subtle pulse animation
   - .icon--spin           Continuous rotation

   Container Classes:
   - .icon-container       Circular background container
   - .icon-container--sm   Small container variant
   - .icon-container--lg   Large container variant

   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {

  /* ─────────────────────────────────────────────────────────────────────────
     BASE ICON STYLES
     ───────────────────────────────────────────────────────────────────────── */

  .icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    width: 24px;
    height: 24px;
    color: currentColor;
    stroke-width: 1.75;
    vertical-align: middle;
    transition: color 200ms ease, transform 200ms ease, opacity 200ms ease;
  }

  .icon svg {
    width: 100%;
    height: 100%;
    stroke-width: inherit;
  }

  /* Ensure SVG icons used directly get proper styling */
  svg.icon {
    stroke-width: 1.75;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     SIZE MODIFIERS
     ───────────────────────────────────────────────────────────────────────── */

  .icon--xs {
    width: 16px;
    height: 16px;
    stroke-width: 2;
  }

  .icon--sm {
    width: 20px;
    height: 20px;
    stroke-width: 1.75;
  }

  .icon--md {
    width: 24px;
    height: 24px;
    stroke-width: 1.75;
  }

  .icon--lg {
    width: 32px;
    height: 32px;
    stroke-width: 1.5;
  }

  .icon--xl {
    width: 40px;
    height: 40px;
    stroke-width: 1.5;
  }

  .icon--2xl {
    width: 48px;
    height: 48px;
    stroke-width: 1.25;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     COLOR MODIFIERS - Premium Fintech Palette
     ───────────────────────────────────────────────────────────────────────── */

  /* Primary Navy - Institutional Authority */
  .icon--navy {
    color: #1B365D;
  }

  /* Emerald Accent - Trust & Growth */
  .icon--emerald {
    color: #d5a035;
  }

  /* Luxury Gold - Premium & Exclusivity */
  .icon--gold {
    color: #d5a035;
  }

  /* Brand Green - ITQQAN Identity */
  .icon--brand {
    color: #d5a035;
  }

  /* Pillar Colors */
  .icon--learn {
    color: #d5a035;
  }

  .icon--accounts {
    color: #d5a035;
  }

  .icon--trust {
    color: #d5a035;
  }

  /* Utility Colors */
  .icon--white {
    color: #FFFFFF;
  }

  .icon--muted {
    color: #64748B;
  }

  .icon--success {
    color: #059669;
  }

  .icon--warning {
    color: #D97706;
  }

  .icon--error {
    color: #DC2626;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     ANIMATION MODIFIERS
     ───────────────────────────────────────────────────────────────────────── */

  /* Hover Scale & Color Shift Animation */
  .icon--animated {
    will-change: transform, color;
  }

  .icon--animated:hover {
    transform: scale(1.1);
  }

  /* Softer animation for parent hover contexts */
  .group:hover .icon--animated,
  a:hover .icon--animated,
  button:hover .icon--animated {
    transform: scale(1.08);
    color: var(--icon-hover-color, currentColor);
  }

  /* Pulse Animation */
  .icon--pulse {
    animation: iconPulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes iconPulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.6;
    }
  }

  /* Spin Animation */
  .icon--spin {
    animation: iconSpin 1s linear infinite;
  }

  @keyframes iconSpin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  /* Bounce Animation (for attention) */
  .icon--bounce {
    animation: iconBounce 1s ease-in-out infinite;
  }

  @keyframes iconBounce {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-4px);
    }
  }

  /* ─────────────────────────────────────────────────────────────────────────
     ICON CONTAINERS - Circular Backgrounds
     ───────────────────────────────────────────────────────────────────────── */

  .icon-container {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    border-radius: 12px;
    background: linear-gradient(135deg, rgba(27, 54, 93, 0.08) 0%, rgba(27, 54, 93, 0.04) 100%);
    border: 1px solid rgba(27, 54, 93, 0.12);
    transition: all 250ms ease;
  }

  .icon-container .icon {
    width: 24px;
    height: 24px;
    color: #1B365D;
  }

  .icon-container:hover {
    background: linear-gradient(135deg, rgba(27, 54, 93, 0.12) 0%, rgba(27, 54, 93, 0.06) 100%);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(27, 54, 93, 0.15);
  }

  /* Small Container */
  .icon-container--sm {
    width: 36px;
    height: 36px;
    border-radius: 10px;
  }

  .icon-container--sm .icon {
    width: 18px;
    height: 18px;
  }

  /* Large Container */
  .icon-container--lg {
    width: 64px;
    height: 64px;
    border-radius: 16px;
  }

  .icon-container--lg .icon {
    width: 32px;
    height: 32px;
  }

  /* Extra Large Container */
  .icon-container--xl {
    width: 80px;
    height: 80px;
    border-radius: 20px;
  }

  .icon-container--xl .icon {
    width: 40px;
    height: 40px;
  }

  /* Container Color Variants */
  .icon-container--navy {
    background: linear-gradient(135deg, rgba(27, 54, 93, 0.1) 0%, rgba(27, 54, 93, 0.05) 100%);
    border-color: rgba(27, 54, 93, 0.15);
  }

  .icon-container--navy .icon {
    color: #1B365D;
  }

  .icon-container--emerald {
    background: linear-gradient(135deg, rgba(213, 160, 53, 0.12) 0%, rgba(213, 160, 53, 0.06) 100%);
    border-color: rgba(213, 160, 53, 0.2);
  }

  .icon-container--emerald .icon {
    color: #d5a035;
  }

  .icon-container--gold {
    background: linear-gradient(135deg, rgba(213, 160, 53, 0.12) 0%, rgba(213, 160, 53, 0.06) 100%);
    border-color: rgba(213, 160, 53, 0.2);
  }

  .icon-container--gold .icon {
    color: #d5a035;
  }

  .icon-container--brand {
    background: linear-gradient(135deg, rgba(213, 160, 53, 0.12) 0%, rgba(213, 160, 53, 0.06) 100%);
    border-color: rgba(213, 160, 53, 0.2);
  }

  .icon-container--brand .icon {
    color: #d5a035;
  }

  .icon-container--learn {
    background: linear-gradient(135deg, rgba(213, 160, 53, 0.12) 0%, rgba(213, 160, 53, 0.06) 100%);
    border-color: rgba(213, 160, 53, 0.2);
  }

  .icon-container--learn .icon {
    color: #d5a035;
  }

  .icon-container--accounts {
    background: linear-gradient(135deg, rgba(213, 160, 53, 0.12) 0%, rgba(213, 160, 53, 0.06) 100%);
    border-color: rgba(213, 160, 53, 0.2);
  }

  .icon-container--accounts .icon {
    color: #d5a035;
  }

  .icon-container--trust {
    background: linear-gradient(135deg, rgba(213, 160, 53, 0.12) 0%, rgba(213, 160, 53, 0.06) 100%);
    border-color: rgba(213, 160, 53, 0.2);
  }

  .icon-container--trust .icon {
    color: #d5a035;
  }

  /* Solid Container Variants */
  .icon-container--solid-navy {
    background: linear-gradient(135deg, #1B365D 0%, #243B53 100%);
    border: none;
    box-shadow: 0 4px 12px rgba(27, 54, 93, 0.25);
  }

  .icon-container--solid-navy .icon {
    color: #FFFFFF;
  }

  .icon-container--solid-emerald {
    background: linear-gradient(135deg, #d5a035 0%, #b8892a 100%);
    border: none;
    box-shadow: 0 4px 12px rgba(213, 160, 53, 0.25);
  }

  .icon-container--solid-emerald .icon {
    color: #FFFFFF;
  }

  .icon-container--solid-gold {
    background: linear-gradient(135deg, #d5a035 0%, #b8892a 100%);
    border: none;
    box-shadow: 0 4px 12px rgba(213, 160, 53, 0.25);
  }

  .icon-container--solid-gold .icon {
    color: #1B365D;
  }

  .icon-container--solid-brand {
    background: linear-gradient(135deg, #d5a035 0%, #b8892a 100%);
    border: none;
    box-shadow: 0 4px 12px rgba(213, 160, 53, 0.25);
  }

  .icon-container--solid-brand .icon {
    color: #FFFFFF;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     FEATURE ICON CARDS - For Homepage Features
     ───────────────────────────────────────────────────────────────────────── */

  .feature-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 56px;
    height: 56px;
    border-radius: 14px;
    background: linear-gradient(135deg, var(--feature-bg-start, #F0F4F8) 0%, var(--feature-bg-end, #E2E8F0) 100%);
    border: 1px solid var(--feature-border, rgba(27, 54, 93, 0.1));
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .feature-icon .icon {
    width: 28px;
    height: 28px;
    color: var(--feature-color, #1B365D);
    stroke-width: 1.75;
    transition: transform 300ms ease;
  }

  .feature-icon:hover {
    transform: scale(1.08) translateY(-2px);
    box-shadow: 0 8px 24px var(--feature-shadow, rgba(27, 54, 93, 0.15));
  }

  .feature-icon:hover .icon {
    transform: scale(1.05);
  }

  /* Feature Icon Color Variants - Gold #d5a035 for light backgrounds (WCAG AA compliant) */
  .feature-icon--target {
    --feature-bg-start: rgba(213, 160, 53, 0.12);
    --feature-bg-end: rgba(213, 160, 53, 0.06);
    --feature-border: rgba(213, 160, 53, 0.25);
    --feature-color: #d5a035;
    --feature-shadow: rgba(213, 160, 53, 0.2);
  }

  .feature-icon--verified {
    --feature-bg-start: rgba(213, 160, 53, 0.12);
    --feature-bg-end: rgba(213, 160, 53, 0.06);
    --feature-border: rgba(213, 160, 53, 0.25);
    --feature-color: #d5a035;
    --feature-shadow: rgba(213, 160, 53, 0.2);
  }

  .feature-icon--security {
    --feature-bg-start: rgba(213, 160, 53, 0.12);
    --feature-bg-end: rgba(213, 160, 53, 0.06);
    --feature-border: rgba(213, 160, 53, 0.25);
    --feature-color: #d5a035;
    --feature-shadow: rgba(213, 160, 53, 0.2);
  }

  .feature-icon--mobile {
    --feature-bg-start: rgba(213, 160, 53, 0.12);
    --feature-bg-end: rgba(213, 160, 53, 0.06);
    --feature-border: rgba(213, 160, 53, 0.25);
    --feature-color: #d5a035;
    --feature-shadow: rgba(213, 160, 53, 0.2);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     PILLAR ICON BADGES - For Pillar Cards on Homepage
     ───────────────────────────────────────────────────────────────────────── */

  .pillar-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 56px;
    height: 56px;
    border-radius: 14px;
    transition: transform 300ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .pillar-icon .icon {
    width: 28px;
    height: 28px;
    stroke-width: 1.75;
  }

  .group:hover .pillar-icon {
    transform: scale(1.1);
  }

  /* Learn Pillar - Gold icon for WCAG AA on light backgrounds */
  .pillar-icon--learn {
    background: linear-gradient(135deg, rgba(213, 160, 53, 0.12) 0%, rgba(213, 160, 53, 0.06) 100%);
    border: 1px solid rgba(213, 160, 53, 0.25);
  }

  .pillar-icon--learn .icon {
    color: #d5a035;
  }

  /* Accounts Pillar - Gold icon for WCAG AA on light backgrounds */
  .pillar-icon--accounts {
    background: linear-gradient(135deg, rgba(213, 160, 53, 0.12) 0%, rgba(213, 160, 53, 0.06) 100%);
    border: 1px solid rgba(213, 160, 53, 0.25);
  }

  .pillar-icon--accounts .icon {
    color: #d5a035;
  }

  /* Trust Pillar - Gold icon for WCAG AA on light backgrounds */
  .pillar-icon--trust {
    background: linear-gradient(135deg, rgba(213, 160, 53, 0.12) 0%, rgba(213, 160, 53, 0.06) 100%);
    border: 1px solid rgba(213, 160, 53, 0.25);
  }

  .pillar-icon--trust .icon {
    color: #d5a035;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     ARTICLE PLACEHOLDER ICON
     ───────────────────────────────────────────────────────────────────────── */

  .article-placeholder-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 64px;
    height: 64px;
    border-radius: 16px;
    background: linear-gradient(135deg, rgba(213, 160, 53, 0.15) 0%, rgba(213, 160, 53, 0.08) 100%);
    opacity: 0.8;
  }

  .article-placeholder-icon .icon {
    width: 32px;
    height: 32px;
    color: #d5a035;
    stroke-width: 1.5;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     REDUCED MOTION SUPPORT
     ───────────────────────────────────────────────────────────────────────── */

  @media (prefers-reduced-motion: reduce) {
    .icon,
    .icon--animated,
    .icon--pulse,
    .icon--spin,
    .icon--bounce,
    .icon-container,
    .feature-icon,
    .pillar-icon {
      animation: none;
      transition: none;
    }

    .icon--animated:hover,
    .group:hover .icon--animated,
    a:hover .icon--animated,
    button:hover .icon--animated {
      transform: none;
    }
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   5. UTILITIES LAYER
   ═══════════════════════════════════════════════════════════════════════════ */

@layer utilities {

  /* ─────────────────────────────────────────────────────────────────────────
     Pale Gray Utilities
     Subtle backgrounds and borders for premium fintech UI
     ───────────────────────────────────────────────────────────────────────── */

  .bg-pale {
    background-color: var(--color-pale-gray);
  }

  .bg-pale-light {
    background-color: var(--color-pale-gray-light);
  }

  .bg-pale-medium {
    background-color: var(--color-pale-gray-medium);
  }

  .border-pale {
    border-color: var(--color-pale-gray);
  }

  .border-pale-light {
    border-color: var(--color-pale-gray-light);
  }

  .border-pale-medium {
    border-color: var(--color-pale-gray-medium);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     RTL-Specific Utilities
     ───────────────────────────────────────────────────────────────────────── */

  .text-start {
    text-align: right;
  }

  .text-end {
    text-align: left;
  }

  .mr-auto-rtl {
    margin-left: auto;
    margin-right: 0;
  }

  .ml-auto-rtl {
    margin-right: auto;
    margin-left: 0;
  }

  .border-r-rtl {
    border-right-width: 1px;
    border-left-width: 0;
  }

  .border-l-rtl {
    border-left-width: 1px;
    border-right-width: 0;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     Text Utilities
     ───────────────────────────────────────────────────────────────────────── */

  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     Visibility Utilities
     ───────────────────────────────────────────────────────────────────────── */

  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     Interactive Utilities
     ───────────────────────────────────────────────────────────────────────── */

  .hover-lift {
    transition: transform var(--transition-smooth), box-shadow var(--transition-smooth);
  }

  .hover-lift:hover {
    transform: translateY(-2px);
  }

  .hover-scale {
    transition: transform var(--transition-smooth);
  }

  .hover-scale:hover {
    transform: scale(1.02);
  }

  .click-scale:active {
    transform: scale(0.98);
  }

  /* ─────────────────────────────────────────────────────────────────────────
     Safe Area Utilities (for notched devices)
     ───────────────────────────────────────────────────────────────────────── */

  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-area-right {
    padding-right: env(safe-area-inset-right);
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   FINTECH TRUST SIGNALS
   Components that convey security, reliability, and professionalism
   Critical for financial education platform targeting ages 40-70
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {

  /*
   * Trust Badge - Security indicators
   * Use for: SSL certificates, regulatory compliance, encryption notices
   */
  .trust-indicator {
    @apply inline-flex items-center gap-3 px-5 py-3 rounded-xl;
    background: linear-gradient(135deg, #FDF8EE 0%, #FCEFD4 100%);
    border: 1px solid rgba(213, 160, 53, 0.2);
    font-size: var(--font-size-min-body);
  }

  .trust-indicator-icon {
    @apply w-6 h-6 flex-shrink-0;
    color: #d5a035;
  }

  .trust-indicator-text {
    @apply text-brand-800 font-medium;
  }

  /*
   * Security Badge - For regulatory and compliance information
   */
  .security-badge {
    @apply flex items-center gap-2 px-4 py-2 rounded-lg;
    background: rgba(36, 59, 83, 0.05);
    border: 1px solid rgba(36, 59, 83, 0.15);
  }

  .security-badge-icon {
    @apply w-5 h-5 text-navy-700;
  }

  .security-badge-text {
    @apply text-navy-700 font-medium;
    font-size: var(--font-size-min-caption);
  }

  /*
   * Verification Status - Show verified/unverified states clearly
   */
  .status-verified {
    @apply inline-flex items-center gap-2 px-4 py-2 rounded-full;
    background: #ECFDF5;
    border: 2px solid #10B981;
    color: #047857;
    font-weight: 600;
    font-size: var(--font-size-min-body);
  }

  .status-pending {
    @apply inline-flex items-center gap-2 px-4 py-2 rounded-full;
    background: #FFFBEB;
    border: 2px solid #F59E0B;
    color: #B45309;
    font-weight: 600;
    font-size: var(--font-size-min-body);
  }

  .status-error {
    @apply inline-flex items-center gap-2 px-4 py-2 rounded-full;
    background: #FEF2F2;
    border: 2px solid #EF4444;
    color: #B91C1C;
    font-weight: 600;
    font-size: var(--font-size-min-body);
  }

  /*
   * Important Notice Box - For critical information
   * High visibility for older users
   */
  .notice-important {
    @apply relative p-6 rounded-xl;
    background: linear-gradient(90deg, rgba(229, 168, 54, 0.1) 0%, rgba(229, 168, 54, 0.05) 100%);
    border: 2px solid #E5A836;
    border-right-width: 6px;
  }

  .notice-important::before {
    content: '!';
    @apply absolute top-4 right-4 w-8 h-8 flex items-center justify-center;
    @apply bg-gold-500 text-white font-bold rounded-full;
    font-size: 1.25rem;
  }

  .notice-important-title {
    @apply text-navy-900 font-bold mb-2;
    font-size: 1.25rem;
    padding-right: 3rem;
  }

  .notice-important-text {
    @apply text-navy-700;
    font-size: var(--font-size-min-body);
    line-height: var(--line-height-body-comfortable);
  }

  /*
   * Warning Notice - For risk disclaimers
   */
  .notice-warning {
    @apply relative p-6 rounded-xl;
    background: linear-gradient(90deg, rgba(239, 68, 68, 0.08) 0%, rgba(239, 68, 68, 0.03) 100%);
    border: 2px solid #EF4444;
    border-right-width: 6px;
  }

  .notice-warning-title {
    @apply text-error-700 font-bold mb-2 flex items-center gap-2;
    font-size: 1.25rem;
  }

  .notice-warning-text {
    @apply text-slate-700;
    font-size: var(--font-size-min-body);
    line-height: var(--line-height-body-comfortable);
  }

  /*
   * Success Notice - For confirmations
   */
  .notice-success {
    @apply relative p-6 rounded-xl;
    background: linear-gradient(90deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%);
    border: 2px solid #10B981;
    border-right-width: 6px;
  }

  .notice-success-title {
    @apply text-success-700 font-bold mb-2 flex items-center gap-2;
    font-size: 1.25rem;
  }

  .notice-success-text {
    @apply text-slate-700;
    font-size: var(--font-size-min-body);
    line-height: var(--line-height-body-comfortable);
  }

  /*
   * CTA Section - Primary call-to-action with trust elements
   */
  .cta-primary {
    @apply relative p-8 rounded-2xl overflow-hidden;
    background: linear-gradient(135deg, #d5a035 0%, #b8892a 100%);
  }

  .cta-primary::before {
    content: '';
    @apply absolute inset-0 opacity-10;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0L60 30L30 60L0 30L30 0z' fill='%23ffffff' fill-opacity='0.1'/%3E%3C/svg%3E");
  }

  .cta-primary-title {
    @apply text-white font-bold mb-3;
    font-size: 1.75rem;
  }

  .cta-primary-text {
    @apply text-brand-100 mb-6;
    font-size: var(--font-size-min-body-lg);
    line-height: var(--line-height-body-comfortable);
  }

  .cta-primary .btn {
    @apply bg-white text-brand-700 border-white;
    font-size: var(--font-size-min-body);
  }

  .cta-primary .btn:hover {
    @apply bg-brand-50;
  }

  /*
   * Stats Display - Key metrics with trust-building numbers
   */
  .stats-grid {
    @apply grid grid-cols-2 md:grid-cols-4 gap-6;
  }

  .stat-item {
    @apply text-center p-6 rounded-xl bg-white;
    border: 1px solid rgba(226, 232, 240, 0.8);
    box-shadow: var(--shadow-card);
  }

  .stat-number {
    @apply text-navy-900 font-bold mb-1;
    font-size: 2.5rem;
    line-height: 1.2;
    /* Numbers in LTR for universal readability */
    direction: ltr;
  }

  .stat-label {
    @apply text-slate-600;
    font-size: var(--font-size-min-body);
  }

  .stat-item-highlighted {
    @apply stat-item;
    background: linear-gradient(180deg, #FFFBF0 0%, #FFFFFF 100%);
    border-color: #FCEAC4;
  }

  .stat-item-highlighted .stat-number {
    @apply text-gold-600;
  }

  /*
   * Partner/Certification Logos - Build trust through association
   */
  .trust-logos {
    @apply flex flex-wrap items-center justify-center gap-8 py-6;
  }

  .trust-logo {
    @apply opacity-60 grayscale transition-all duration-300;
    max-height: 40px;
    width: auto;
  }

  .trust-logo:hover {
    @apply opacity-100 grayscale-0;
  }

  /*
   * Testimonial Card - Social proof
   */
  .testimonial-card {
    @apply p-6 rounded-2xl bg-white;
    border: 1px solid rgba(226, 232, 240, 0.8);
    box-shadow: var(--shadow-card);
  }

  .testimonial-quote {
    @apply text-slate-700 mb-4;
    font-size: var(--font-size-min-body);
    line-height: var(--line-height-body-comfortable);
  }

  .testimonial-author {
    @apply flex items-center gap-4;
  }

  .testimonial-avatar {
    @apply w-14 h-14 rounded-full bg-slate-200 flex-shrink-0;
    border: 2px solid #E2E8F0;
  }

  .testimonial-name {
    @apply text-navy-800 font-semibold;
    font-size: var(--font-size-min-body);
  }

  .testimonial-role {
    @apply text-slate-500;
    font-size: var(--font-size-min-caption);
  }

  /*
   * Price Display - Clear financial information
   */
  .price-display {
    @apply inline-flex items-baseline gap-1;
    direction: ltr;  /* Numbers always LTR */
  }

  .price-currency {
    @apply text-slate-500 font-medium;
    font-size: var(--font-size-min-body);
  }

  .price-amount {
    @apply text-navy-900 font-bold;
    font-size: 2rem;
  }

  .price-period {
    @apply text-slate-500;
    font-size: var(--font-size-min-caption);
  }

  /*
   * Progress Indicator - For multi-step processes
   */
  .progress-steps {
    @apply flex items-center justify-between;
    direction: rtl;  /* Steps flow right to left for Arabic */
  }

  .progress-step {
    @apply flex flex-col items-center gap-2;
  }

  .progress-step-number {
    @apply w-12 h-12 rounded-full flex items-center justify-center font-bold;
    font-size: var(--font-size-min-body);
    border: 3px solid currentColor;
  }

  .progress-step-number.active {
    @apply bg-brand-500 text-white border-brand-500;
  }

  .progress-step-number.completed {
    @apply bg-brand-500 text-white border-brand-500;
  }

  .progress-step-number.pending {
    @apply bg-white text-slate-400 border-slate-300;
  }

  .progress-step-label {
    @apply text-center font-medium;
    font-size: var(--font-size-min-caption);
    max-width: 100px;
  }

  .progress-connector {
    @apply flex-1 h-1 mx-2;
    background: #E2E8F0;
  }

  .progress-connector.completed {
    @apply bg-brand-500;
  }

  /*
   * Loading States - Clear feedback during async operations
   */
  .loading-spinner {
    @apply w-8 h-8 border-4 border-slate-200 rounded-full animate-spin;
    border-top-color: var(--color-brand-500);
  }

  .loading-spinner-lg {
    @apply w-12 h-12;
  }

  .loading-overlay {
    @apply absolute inset-0 flex items-center justify-center;
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(2px);
  }

  .loading-text {
    @apply text-slate-600 mt-4;
    font-size: var(--font-size-min-body);
  }

}

/* ═══════════════════════════════════════════════════════════════════════════
   PRINT STYLES
   ═══════════════════════════════════════════════════════════════════════════ */

@media print {
  .glass-header,
  .floating-cta,
  .toc {
    display: none !important;
  }

  body {
    font-size: 12pt;
    line-height: 1.5;
    color: #000;
    background: #fff;
  }

  a {
    color: #000;
    text-decoration: underline;
  }

  .card,
  .content-box {
    border: 1px solid #ccc;
    box-shadow: none;
  }

  main {
    padding-top: 0 !important;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   REDUCED MOTION
   ═══════════════════════════════════════════════════════════════════════════ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  html {
    scroll-behavior: auto;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   HIGH CONTRAST MODE
   ═══════════════════════════════════════════════════════════════════════════ */

@media (prefers-contrast: high) {
  .card,
  .content-box,
  .input {
    border-width: 2px;
    border-color: currentColor;
  }

  .btn {
    border-width: 2px;
  }

  .badge {
    border: 1px solid currentColor;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   MOBILE-FIRST OPTIMIZATIONS
   Thumb-friendly zones, readable text, and clear tap targets
   Critical for users aged 40-70 who may have reduced dexterity
   ═══════════════════════════════════════════════════════════════════════════ */

/*
 * Thumb Zone Optimization
 * - Bottom 1/3 of screen is most accessible (thumb zone)
 * - Primary actions should be in this area on mobile
 * - Top corners are hardest to reach
 */

/* Mobile-specific improvements */
@media (max-width: 767px) {

  /* Increase base font size on mobile for older users */
  html {
    font-size: 18px;  /* Base for rem calculations */
  }

  body {
    font-size: 1.125rem;  /* 20.25px on mobile */
    line-height: 1.85;
    /* Add padding for safe areas on notched devices */
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Larger headings on mobile for readability */
  h1 {
    font-size: 2rem;  /* 36px */
    line-height: 1.4;  /* Increased for Arabic text breathing room */
  }

  h2 {
    font-size: 1.625rem;  /* 29.25px */
    line-height: 1.25;
  }

  h3 {
    font-size: 1.375rem;  /* 24.75px */
    line-height: 1.3;
  }

  /* Ensure all interactive elements have minimum touch targets */
  a,
  button,
  [role="button"],
  input,
  select,
  textarea,
  .btn,
  .card-interactive,
  .nav-link,
  .menu-item {
    min-height: 48px;
  }

  /* Links in text should have larger hit areas */
  p a,
  li a {
    display: inline-block;
    padding: 4px 0;
    margin: -4px 0;
  }

  /* Bottom navigation bar - thumb-friendly zone */
  .mobile-bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: var(--z-header);
    display: flex;
    justify-content: space-around;
    align-items: center;
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border-top: 1px solid rgba(226, 232, 240, 0.8);
    padding: 8px 16px;
    padding-bottom: calc(8px + env(safe-area-inset-bottom));
    box-shadow: 0 -4px 20px rgba(15, 23, 42, 0.08);
  }

  .mobile-bottom-nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-width: 64px;
    min-height: 56px;
    padding: 8px;
    border-radius: 12px;
    color: var(--color-text-secondary);
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .mobile-bottom-nav-item:hover,
  .mobile-bottom-nav-item:active {
    background: rgba(213, 160, 53, 0.08);
    color: var(--color-brand-600);
  }

  .mobile-bottom-nav-item.active {
    color: var(--color-brand-600);
  }

  .mobile-bottom-nav-icon {
    width: 24px;
    height: 24px;
    margin-bottom: 4px;
  }

  .mobile-bottom-nav-label {
    font-size: 12px;
    font-weight: 500;
  }

  /* Floating Action Button - positioned in thumb zone */
  .fab-mobile {
    position: fixed;
    bottom: calc(80px + env(safe-area-inset-bottom));  /* Above bottom nav */
    left: 20px;  /* Left side in RTL = right side visually */
    z-index: calc(var(--z-header) - 1);
    width: 56px;
    height: 56px;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #d5a035 0%, #b8892a 100%);
    color: white;
    box-shadow: 0 8px 24px rgba(213, 160, 53, 0.3);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .fab-mobile:hover,
  .fab-mobile:active {
    transform: scale(1.05);
    box-shadow: 0 12px 32px rgba(213, 160, 53, 0.4);
  }

  /* Cards should be full-width on mobile */
  .card {
    margin-left: -1rem;
    margin-right: -1rem;
    border-radius: 0;
    border-left: none;
    border-right: none;
  }

  /* But contained cards keep their shape */
  .container .card,
  .card-contained {
    margin-left: 0;
    margin-right: 0;
    border-radius: var(--radius-card);
    border: 1px solid rgba(226, 232, 240, 0.8);
  }

  /* Increase spacing between touch elements */
  .btn + .btn,
  .card + .card,
  .form-group + .form-group {
    margin-top: 1rem;
  }

  /* Modals should be full-screen on mobile */
  .modal {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    transform: none;
    max-width: 100%;
    max-height: 100%;
    border-radius: 0;
  }

  .modal-body {
    padding: 1.5rem;
    padding-bottom: calc(1.5rem + env(safe-area-inset-bottom));
  }

  /* Drawer menus slide from right (start in RTL) */
  .drawer-menu {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    width: 85vw;
    max-width: 400px;
    z-index: var(--z-modal);
    background: white;
    transform: translateX(100%);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: -10px 0 40px rgba(15, 23, 42, 0.15);
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  .drawer-menu.is-open {
    transform: translateX(0);
  }

  /* Pull-to-refresh indicator */
  .pull-to-refresh {
    display: flex;
    justify-content: center;
    padding: 1rem;
    color: var(--color-text-muted);
    font-size: var(--font-size-min-caption);
  }

  /* Swipe-to-delete action area */
  .swipe-action {
    min-height: 56px;
    display: flex;
    align-items: center;
    padding: 1rem;
  }

  /* Form optimizations for mobile */
  .input,
  .select,
  .textarea {
    font-size: 16px;  /* Prevents iOS zoom on focus */
  }

  /* Stack form actions vertically on mobile */
  .form-actions {
    flex-direction: column;
    gap: 0.75rem;
  }

  .form-actions .btn {
    width: 100%;
  }

  /* Primary action should be first (top in column layout) */
  .form-actions .btn-primary {
    order: -1;
  }

}

/* Touch device specific styles */
@media (hover: none) and (pointer: coarse) {

  /* Remove hover effects that cause sticky states on touch */
  .btn:hover {
    transform: none;
  }

  .card:hover {
    box-shadow: var(--shadow-card);
  }

  .card-interactive:hover {
    transform: none;
  }

  /* Add active states instead */
  .btn:active {
    transform: scale(0.98);
    opacity: 0.9;
  }

  .card-interactive:active {
    transform: scale(0.99);
    box-shadow: var(--shadow-sm);
  }

  /* Larger tap targets for touch devices */
  .checkbox,
  .radio {
    width: 28px;
    height: 28px;
  }

  /* Ensure dropdown triggers have visible feedback */
  .dropdown-trigger:active {
    background: rgba(0, 0, 0, 0.05);
  }

}

/* Landscape mobile orientation */
@media (max-width: 896px) and (orientation: landscape) {

  /* Reduce vertical spacing in landscape */
  .section {
    padding-top: 2rem;
    padding-bottom: 2rem;
  }

  /* Hero sections should be shorter */
  .hero {
    min-height: auto;
    padding-top: 3rem;
    padding-bottom: 3rem;
  }

  /* Bottom nav should be more compact */
  .mobile-bottom-nav {
    padding: 4px 16px;
    padding-bottom: calc(4px + env(safe-area-inset-bottom));
  }

  .mobile-bottom-nav-item {
    min-height: 48px;
    flex-direction: row;
    gap: 8px;
  }

  .mobile-bottom-nav-icon {
    margin-bottom: 0;
  }

}
